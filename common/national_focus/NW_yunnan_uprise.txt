focus_tree = {
	id = yunnan_uprise_focus
	
	country = {
		factor = 0
	}
	default = no
	
	continuous_focus_position = { x = 50 y = 1500 }
	
	focus = {
		id = YUN_create_east_yunnan_government
		icon = GFX_z_goal_create_east_yunnan_government
		cost = 3
		x = 15
		y = 0
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): YUN_create_east_yunnan_government"
			add_political_power = 50
			set_cosmetic_tag = YUN_east_yunnan_government
			add_ideas = YUN_anticommunist_uprise
			add_ideas =	YUN_bandits_army
		}
	}
	focus = {
		id = YUN_guerilla_strategy
		icon = GFX_z_goal_asia_guerilla_strategy
		cost = 3
		prerequisite = {
			focus = YUN_create_east_yunnan_government
		}
		x = -2
		y = 1
		relative_position_id = YUN_create_east_yunnan_government
		ai_will_do = {
			factor = 5
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): YUN_guerilla_strategy"
			add_ideas = YUN_guerilla_fight
		}
	}
	focus = {
		id = YUN_call_yi
		icon = GFX_z_goal_call_yi
		cost = 3
		prerequisite = {
			focus = YUN_guerilla_strategy
		}
		x = 0
		y = 1
		relative_position_id = YUN_guerilla_strategy
		ai_will_do = {
			factor = 5
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): YUN_call_yi"
			load_oob = "YUN_uprise_2"
		}
	}
	focus = {
		id = YUN_help_from_abroad
		icon = GFX_z_goal_help_from_abroad
		cost = 3
		prerequisite = {
			focus = YUN_create_east_yunnan_government
		}
		x = 0
		y = 2
		relative_position_id = YUN_create_east_yunnan_government
		ai_will_do = {
			factor = 5
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): YUN_help_from_abroad"
			unlock_decision_category_tooltip = YUN_arms_supplies
		}
	}
	focus = {
		id = YUN_father_glory
		icon = GFX_z_goal_father_glory
		cost = 3
		prerequisite = {
			focus = YUN_create_east_yunnan_government
		}
		x = 2
		y = 1
		relative_position_id = YUN_create_east_yunnan_government
		ai_will_do = {
			factor = 5
		}
		available = {
			NOT = {
				YUN_long_yun = {
					has_trait = betrayed
				}
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): YUN_father_glory"
			add_timed_idea = {
				idea = YUN_nostalgia
				days = 300
			}
		}
	}
	focus = {
		id = YUN_true_heir
		icon = GFX_z_goal_clique_true_heir
		cost = 10
		prerequisite = {
			focus = YUN_father_glory
		}
		x = 0
		y = 1
		relative_position_id = YUN_father_glory
		ai_will_do = {
			factor = 5
		}
		available = {
			has_idea = YUN_father_shadow
			num_of_controlled_states > 8
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): YUN_true_heir"
			custom_effect_tooltip = YUN_heir
			remove_ideas = YUN_father_shadow
		}
	}
	focus = {
		id = YUN_last_kuomintang_stronghold
		icon = GFX_z_goal_last_kuomintang_stronghold
		cost = 10
		prerequisite = {
			focus = YUN_call_yi
			focus = YUN_true_heir
		}
		prerequisite = {
			focus = YUN_help_from_abroad
		}
		mutually_exclusive = {
			focus = YUN_submit_government
		}
		x = 1
		y = 1
		relative_position_id = YUN_call_yi
		ai_will_do = {
			factor = 5
		}
		available = {
			CHI = {
				OR = {
					exists = no
					has_capitulated = yes
				}
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): YUN_last_kuomintang_stronghold"	
			set_cosmetic_tag = YUN_government
			remove_ideas = YUN_anticommunist_uprise
			unlock_decision_category_tooltip = chinese_reunification
			set_country_flag = chinese_reunification_flag 
			add_advisor_role = { # TODO: нахуя? у этих персонажей итак есть эти роли
				character = YUN_zou_ruoheng
				activate = no
				advisor = {
					slot = political_advisor
					cost = 150
					idea_token = YUN_zou_ruoheng
					traits = {
						longs_childhood_friend
						master_of_martial_arts
					}
				}
			}
			add_advisor_role = {
				character = YUN_li_peiyan
				activate = no
				advisor = {
					slot = political_advisor
					cost = 150
					idea_token = YUN_li_peiyan
					traits = {
						member_of_the_kuomintang
						businessman
					}
				}
			}
			add_advisor_role = {
				character = YUN_miao_yuntai
				activate = no
				advisor = {
					slot = political_advisor
					cost = 150
					idea_token = YUN_miao_yuntai
					traits = {
						graduate_of_minnesota
						mining_engineer
					}
					research_bonus = {
						excavation_tech = 0.05
					}
				}
			}
			add_advisor_role = {
				character = YUN_gu_yingqiu
				activate = no
				advisor = {
					slot = political_advisor
					cost = 150
					idea_token = YUN_gu_yingqiu
					traits = {
						longs_wife
						public_figure
					}
				}
			}
			add_advisor_role = {
				character = YUN_zhou_zhongyue
				activate = no
				advisor = {
					slot = political_advisor
					cost = 150
					idea_token = YUN_zhou_zhongyue
					traits = {
						law_scholar
						interior_minister
					}
				}
			}
			add_advisor_role = {
				character = YUN_li_xuanting
				activate = no
				advisor = {
					slot = political_advisor
					cost = 150
					idea_token = YUN_li_xuanting
					traits = {
						clique_general
						medical_businessman
					}
				}
			}
			add_advisor_role = {
				character = YUN_li_yanbin
				activate = no
				advisor = {
					slot = political_advisor
					cost = 150
					idea_token = YUN_li_yanbin
					traits = {
						clique_general 
						silent_workhorse
					}
				}
			}
			add_advisor_role = {
				character = YUN_hu_ying
				activate = no
				advisor = {
					slot = political_advisor
					cost = 150
					idea_token = YUN_hu_ying
					traits = {
						clique_general
						war_minister
					}
				}
			}
			add_advisor_role = {
				character = YUN_xiong_qinglai
				activate = no
				advisor = {
					slot = political_advisor
					cost = 150
					idea_token = YUN_xiong_qinglai
					traits = {
						math_professor
					}
				}
			}
		}
	}
	focus = {
		id = YUN_submit_government
		icon = GFX_z_goal_submit_kuomintang_government
		cost = 10
		prerequisite = {
			focus = YUN_call_yi
			focus = YUN_true_heir
		}
		prerequisite = {
			focus = YUN_help_from_abroad
		}
		mutually_exclusive = {
			focus = YUN_last_kuomintang_stronghold
		}
		x = -1
		y = 1
		relative_position_id = YUN_true_heir
		ai_will_do = {
			factor = 5
		}
		available = {
			country_exists = CHI
			has_full_control_of_state = 325
			has_full_control_of_state = 747
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): YUN_true_heir"	
			YUN = {
				set_nationality = {
					target_country = CHI
					character = YUN_long_shengzeng
				}
				set_nationality = {
					target_country = CHI
					character = YUN_long_chengyao
				}
				set_nationality = {
					target_country = CHI
					character = YUN_an_chunsan
				}
				set_nationality = {
					target_country = CHI
					character = YUN_long_kuiyuan
				}
			}
			CHI = {
				annex_country = {
					target = YUN
					transfer_troops = yes
				}
				change_tag_from = YUN
			}
		}
	}
}
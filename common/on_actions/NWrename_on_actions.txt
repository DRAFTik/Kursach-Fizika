on_actions = {

	#ROOT is new controller
	#FROM is old controller
	#FROM.FROM is state ID
	
	on_state_control_changed = {
		effect = {
			if = {
				limit = {			#### Königsberg -> Korolevec
					FROM.FROM = {
						state = 762
						NOT = {
							has_state_flag = renamed_state_rus
						}
					}
					ROOT = {
						OR = {
							original_tag = RUS
							original_tag = SOV	
						}
						NOT = { has_government = communism }
					}
				}
				log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): on_state_control_changed rename.1"
				762 = {
					set_state_name = REGION_762_RUS
					set_state_flag = renamed_state_rus
					clr_state_flag = renamed_state_sov
					clr_state_flag = renamed_state_pol
					clr_state_flag = renamed_state_lit
				}
				set_province_name = { id = 6332 name = CITY_6332_RUS }
				set_province_name = { id = 3384 name = CITY_3384_RUS }
			}
			if = {					#### Königsberg -> Baltijsk
				limit = {
					FROM.FROM = {
						state = 762
						NOT = {
							has_state_flag = renamed_state_sov
						}
					}
					ROOT = {
						OR = {
							original_tag = RUS
							original_tag = SOV	
						}
						has_government = communism
						NOT = { has_country_flag = Memory_of_Kalinin }
					}
				}
				log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): on_state_control_changed rename.2"
				762 = {
					set_state_name = REGION_762_RUS_com
					set_state_flag = renamed_state_sov
					clr_state_flag = renamed_state_rus
					clr_state_flag = renamed_state_pol
					clr_state_flag = renamed_state_lit
				}
				set_province_name = { id = 6332 name = CITY_6332_RUS_com }
				set_province_name = { id = 3384 name = CITY_3384_RUS }
			}
			if = {					#### Königsberg -> Kaliningrad
				limit = {
					FROM.FROM = {
						state = 762
						NOT = {
							has_state_flag = renamed_state_sov
						}
					}
					ROOT = {
						OR = {
							original_tag = RUS
							original_tag = SOV	
						}
						has_government = communism
						has_country_flag = Memory_of_Kalinin
					}
				}
				log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): on_state_control_changed rename.3"
				762 = {
					set_state_name = Kaliningrad_region
					set_state_flag = renamed_state_sov
					clr_state_flag = renamed_state_rus
					clr_state_flag = renamed_state_pol
					clr_state_flag = renamed_state_lit
				}
				set_province_name = { id = 6332 name = Kaliningrad_city }
				set_province_name = { id = 3384 name = CITY_3384_RUS }
			}
			if = {					#### Königsberg -> Królewec
				limit = {
					FROM.FROM = {
						state = 762
						NOT = {
							has_state_flag = renamed_state_pol
						}
					}
					ROOT = {
						original_tag = POL
					}
				}
				log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): on_state_control_changed rename.4"
				762 = {
					set_state_name = REGION_762_POL
					set_state_flag = renamed_state_pol
					clr_state_flag = renamed_state_sov
					clr_state_flag = renamed_state_rus
					clr_state_flag = renamed_state_lit
				}
				set_province_name = { id = 6332 name = CITY_6332_POL }
				set_province_name = { id = 3384 name = CITY_3384_POL }
			}
			if = {					#### RETURN Königsberg 
				limit = {
					FROM.FROM = {
						state = 762
						OR = {
							has_state_flag = renamed_state_sov
							has_state_flag = renamed_state_rus
							has_state_flag = renamed_state_pol
							has_state_flag = renamed_state_lit
						}
					}
					ROOT = {
						has_country_flag = german_countries
						OR = {
							is_subject = no
							is_subject_of = GER
						}
					}
				}
				log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): on_state_control_changed rename.5"
				762 = {
					reset_state_name = yes
					clr_state_flag = renamed_state_rus
					clr_state_flag = renamed_state_sov
					clr_state_flag = renamed_state_pol
					clr_state_flag = renamed_state_lit
				}
				reset_province_name = 6332
				reset_province_name = 3384
			}
		}
	}
	
	#ROOT is new controller
	#FROM is old controller
	#FROM.FROM is state ID
}
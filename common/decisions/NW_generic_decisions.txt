generic_protectorate_policy_category = {

	generic_provide_independence_to_subject = {

		icon = eng_puppet_usa
		
		available = {
			num_subjects > 0
			FROM = {
				is_subject_of = ROOT
				NOT = {
					has_autonomy_state = autonomy_dominion
					has_autonomy_state = autonomy_satellite
				}
			}
		}
		
		visible = {
			has_completed_focus = policy_of_protectorates
			num_subjects > 0
			FROM = {
				exists = yes
				is_subject_of = ROOT
				NOT = {
					has_autonomy_state = autonomy_dominion
					has_autonomy_state = autonomy_satellite
				}
			}
		}
		
		target_trigger = {
			FROM = {
				is_subject_of = ROOT
				NOT = {
					has_autonomy_state = autonomy_dominion
					has_autonomy_state = autonomy_satellite
				}
			}
		}
		
		cost = 0
		fire_only_once = yes
		
		complete_effect = {
			if = {
				limit = { has_government = fascism }
				set_autonomy = {
					target = FROM
					autonomy_state = autonomy_satellite
				}
			}
			else = {
				set_autonomy = {
					target = FROM
					autonomy_state = autonomy_dominion
				}
			}

		}
		
		ai_will_do = {
			factor = 0
			modifier = {
				add = 20
				FROM = { is_ai = no }
			}
			modifier = {
				add = 10
				FROM = { num_of_factories > 10 }
			}
		}
	}
	
	generic_increase_autonomy_of_subject = {

		icon = generic_form_nation
		
		available = {
			num_subjects > 0
			FROM = {
				is_subject_of = ROOT
				NOT = {
					has_autonomy_state = autonomy_dominion
					has_autonomy_state = autonomy_colony
					has_autonomy_state = autonomy_satellite
					has_autonomy_state = autonomy_reichsprotectorate
				}
			}
		}
		
		visible = {
			has_completed_focus = policy_of_protectorates
			num_subjects > 0
			FROM = {
				exists = yes
				is_subject_of = ROOT
				NOT = {
					has_autonomy_state = autonomy_dominion
					has_autonomy_state = autonomy_colony
					has_autonomy_state = autonomy_satellite
					has_autonomy_state = autonomy_reichsprotectorate
				}
			}
		}
		
		target_trigger = {
			FROM = {
				is_subject_of = ROOT
				NOT = {
					has_autonomy_state = autonomy_dominion
					has_autonomy_state = autonomy_colony
					has_autonomy_state = autonomy_satellite
					has_autonomy_state = autonomy_reichsprotectorate
				}
			}
		}
		
		cost = 0
		fire_only_once = yes
		
		complete_effect = {
			if = {
				limit = { has_government = fascism }
				set_autonomy = {
					target = FROM
					autonomy_state = autonomy_reichsprotectorate
				}
			}
			else = {
				set_autonomy = {
					target = FROM
					autonomy_state = autonomy_colony
				}
			}

		}
		
		ai_will_do = {
			factor = 0
			modifier = {
				add = 20
				FROM = { is_ai = no }
			}
			modifier = {
				add = 10
				FROM = { num_of_factories > 5 }
			}
		}
	}
}

generic_investment_in_subject_category = {

	generic_investment_in_subject = {

		icon = hol_attract_foreign_investors
		
		available = {
			num_subjects > 0
			FROM = {
				is_subject_of = ROOT
			}
		}
		
		visible = {
			has_completed_focus = investment_in_subject
			num_subjects > 0
			FROM = {
				exists = yes
				is_subject_of = ROOT
				NOT = { has_country_flag = generic_investment_in_subject_flag_2 }
			}
		}
		
		target_trigger = {
			FROM = {
				is_subject_of = ROOT
			}
		}
		
		cost = 30
		
		complete_effect = {
			FROM = {
				capital_scope = {
					add_extra_state_shared_building_slots = 2
				}
				if = {
					limit = { has_country_flag = generic_investment_in_subject_flag_1 }
					clr_country_flag = generic_investment_in_subject_flag_1
					set_country_flag = generic_investment_in_subject_flag_2
				}
				else = { set_country_flag = generic_investment_in_subject_flag_1 }
			}
			if = {
				limit = { FROM = { has_country_flag = generic_investment_in_subject_flag_1 } }
				custom_effect_tooltip = generic_investment_in_subject_tt2
			}
			else = { custom_effect_tooltip = generic_investment_in_subject_tt1 }
		}
		
		ai_will_do = {
			factor = 3
			modifier = {
				factor = 10
				FROM = { is_ai = no }
			}
		}
	}
}

generic_project_of_union_constitution_category = {

	generic_project_of_union_constitution = {

		icon = hol_exchange_intelligence_data
		
		available = {
			num_subjects > 0
			FROM = {
				is_subject_of = ROOT
			}
			any_owned_state = {
				is_core_of = FROM
			}
		}
		
		visible = {
			has_completed_focus = project_of_union_constitution
			num_subjects > 0
			FROM = {
				exists = yes
				is_subject_of = ROOT
			}
			any_owned_state = {
				is_core_of = FROM
			}
		}
		
		target_trigger = {
			FROM = {
				is_subject_of = ROOT
			}
		}
		
		cost = 25
		
		complete_effect = {
			every_owned_state = {
				limit = {
					is_core_of = FROM
				}
				FROM = { set_state_owner = PREV }
			}
		}
		
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 10
				FROM = { is_ai = no }
			}
		}
	}
	
	generic_centralization_of_industry = {

		icon = eng_trade_unions_support
		
		available = {
			num_subjects > 0
			FROM = {
				is_subject_of = ROOT
			}
			NOT = {
				any_owned_state = {
					is_core_of = FROM
				}
			}
		}
		
		visible = {
			has_completed_focus = project_of_union_constitution
			num_subjects > 0
			FROM = {
				exists = yes
				is_subject_of = ROOT
			}
			NOT = {
				any_owned_state = {
					is_core_of = FROM
				}
			}
		}
		
		target_trigger = {
			FROM = {
				is_subject_of = ROOT
				NOT = { has_idea = centralization_of_industry }
			}
		}
		
		cost = 25
		days_remove = 14
		
		remove_effect = {
			FROM = {
				add_ideas = centralization_of_industry
			}
		}
		
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 10
				FROM = { is_ai = no }
			}
		}
	}
}


generic_gem_among_colonies_category = {

	generic_gem_among_colonies = {

		icon = eng_trade_unions_support
		
		available = {
			num_subjects > 0
			FROM = {
				is_subject_of = ROOT
			}
			custom_trigger_tooltip = {
				tooltip = generic_gem_among_colonies_trigger_tt		
				NOT = {
					any_country = {
						is_subject_of = ROOT
						has_country_flag = is_gem_among_colonies_flag_@ROOT
					}
				}
			}
		}
		
		visible = {
			has_completed_focus = gem_among_colonies
			num_subjects > 0
			FROM = {
				exists = yes
				is_subject_of = ROOT
				NOT = { has_country_flag = is_gem_among_colonies_flag_@ROOT }
			}
			NOT = {
				any_country = {
					is_subject_of = ROOT
					has_country_flag = is_gem_among_colonies_flag_@ROOT
				}
			}
		}
		
		target_trigger = {
			FROM = {
				is_subject_of = ROOT
			}
		}
		
		cost = 0
		
		complete_effect = {
			hidden_effect = {
				if = {
					limit = {
						FROM = { has_autonomy_state = autonomy_reichskommissariat }
					}
					set_autonomy = {
						target = FROM
						autonomy_state = autonomy_reichsprotectorate
					}
				}
				else_if = {
					limit = {
						FROM = {
							OR = {
								has_autonomy_state = autonomy_integrated_puppet
								has_autonomy_state = autonomy_puppet
							}
						}
					}
					set_autonomy = {
						target = FROM
						autonomy_state = autonomy_colony
					}
				}
				FROM = { set_country_flag = is_gem_among_colonies_flag_@ROOT }
			}
			custom_effect_tooltip = generic_gem_among_colonies_effect_tt
		}
		
		ai_will_do = {
			factor = 10
			modifier = {
				add = 20
				FROM = { is_ai = no }
			}
			modifier = {
				add = 5
				FROM = {
					OR = {
						has_autonomy_state = autonomy_puppet
						has_autonomy_state = autonomy_reichskommissariat
					}
				}
			}
			modifier = {
				add = 20
				FROM = {
					OR = {
						has_autonomy_state = autonomy_reichsprotectorate
						has_autonomy_state = autonomy_colony
					}
				}
			}
			modifier = {
				add = 30
				FROM = {
					OR = {
						has_autonomy_state = autonomy_dominion
						has_autonomy_state = autonomy_satellite
					}
				}
			}
			modifier = {
				set_temp_variable = { num_factories_of_gem = FROM.num_of_factories }
				add = num_factories_of_gem
			}
		}
	}
}

generic_seek_support_category = {

	generic_call_to_fight_for_independence = {

		icon = eng_propaganda_campaigns
		
		available = {
			NOT = { has_war_with = FROM }
			FROM = {
				NOT = { has_completed_focus = adoption_of_new_status }
				compare_autonomy_state < autonomy_dominion
			}
		}
		
		visible = {
			has_completed_focus = seek_support
			has_country_flag = start_seek_support_flag
			FROM = {
				NOT = {
					has_country_flag = accept_call_to_fight_for_independence
					has_country_flag = declane_call_to_fight_for_independence
				}
			}
		}
		
		target_trigger = {
			any_country = {
				ROOT = { is_subject_of = PREV }
				FROM = { is_subject_of = PREV }
			}
			FROM = {
				NOT = { has_completed_focus = adoption_of_new_status }
				compare_autonomy_state < autonomy_dominion
				has_focus_tree = generic_focus
				NOT = {
					has_country_flag = accept_call_to_fight_for_independence
					has_country_flag = declane_call_to_fight_for_independence
				}
			}
		}
		
		cost = 0
		
		complete_effect = {
			FROM = { country_event = { id = NWgeneric.8 days = 1 } }
		}
		
		ai_will_do = {
			factor = 100
		}
	}
	
	generic_ultimatum_of_metropolis = {

		icon = generic_civil_support
		
		available = {
			is_subject_of = FROM
		}
		
		visible = {
			has_completed_focus = seek_support
			has_country_flag = start_seek_support_flag
		}
		
		target_trigger = {
			ROOT = { is_subject_of = FROM }
		}
		
		cost = 0
		days_remove = 5
		
		remove_effect = {
			FROM = { country_event = { id = NWgeneric.9 days = 1 } }
			if = {
				limit = {
					any_country = {
						is_subject_of = FROM
						has_country_flag = accept_call_to_fight_for_independence
					}
				}
				every_country = {
					limit = {
						is_subject_of = FROM
						has_country_flag = accept_call_to_fight_for_independence
					}
					custom_effect_tooltip = generic_ultimatum_of_metropolis_tt
				}
			}
		}
		
		ai_will_do = {
			factor = 10
		}
	}
}

generic_policy_interventions_category = {
	
	generic_policy_interventions = {

		icon = eng_propaganda_campaigns
		
		available = {
			FROM = {
				NOT = {
					has_war_with = ROOT
					is_subject_of = ROOT
					is_in_faction_with = ROOT
					has_government = ROOT
				}
				has_civil_war = no
			}
		}
		
		visible = {
			OR = {
				has_completed_focus = ideological_expansion
				has_completed_focus = patriotism_zeal
			}
			country_exists = FROM
			FROM = {
				NOT = {
					has_war_with = ROOT
					is_subject_of = ROOT
					is_in_faction_with = ROOT
					has_government = ROOT
				}
				has_civil_war = no
			}
		}
		
		target_trigger = {
			FROM = {
				NOT = {
					has_war_with = ROOT
					is_subject_of = ROOT
					is_in_faction_with = ROOT
				}
				any_owned_state = {
					any_neighbor_state = {
						owner = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
				}
			}
		}
		
		cost = 0
		days_remove = 60
		
		modifier = {
			political_power_gain = -0.05
		}
		
		complete_effect = {
			if = {
				limit = { ROOT = { has_government = democratic } }
				FROM = { add_timed_idea = { idea = generic_policy_interventions_democratic days = 60 } }
			}
			if = {
				limit = { ROOT = { has_government = communism } }
				FROM = { add_timed_idea = { idea = generic_policy_interventions_communism days = 60 } }
			}
			if = {
				limit = { ROOT = { has_government = fascism } }
				FROM = { add_timed_idea = { idea = generic_policy_interventions_fascism days = 60 } }
			}
			if = {
				limit = { ROOT = { has_government = neutrality } }
				FROM = { add_timed_idea = { idea = generic_policy_interventions_neutrality days = 60 } }
			}
			if = {
				limit = { ROOT = { has_government = trozkism } }
				FROM = { add_timed_idea = { idea = generic_policy_interventions_trozkism days = 60 } }
			}
			if = {
				limit = { ROOT = { has_government = monarchy } }
				FROM = { add_timed_idea = { idea = generic_policy_interventions_monarchy days = 60 } }
			}
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				political_power_daily > 0.05
			}
			modifier = {
				factor = 0
				if = {
					limit = { ROOT = { has_government = democratic } }
					democratic > 0.500
				}
				if = {
					limit = { ROOT = { has_government = communism } }
					communism > 0.500
				}
				if = {
					limit = { ROOT = { has_government = fascism } }
					fascism > 0.500
				}
				if = {
					limit = { ROOT = { has_government = neutrality } }
					neutrality > 0.500
				}
				if = {
					limit = { ROOT = { has_government = trozkism } }
					trozkism > 0.500
				}
				if = {
					limit = { ROOT = { has_government = monarchy } }
					monarchy > 0.500
				}
			}
		}
	}
}

generic_interventions_start_civil_war_category = {
	
	generic_start_civil_war = {

		icon = generic_ignite_civil_war
		
		available = {
			FROM = {
				NOT = {
					has_war_with = ROOT
					is_subject_of = ROOT
					is_in_faction_with = ROOT
					has_government = ROOT
				}
				has_civil_war = no
				if = {
					limit = { ROOT = { has_government = democratic } }
					democratic > 0.500
				}
				if = {
					limit = { ROOT = { has_government = communism } }
					communism > 0.500
				}
				if = {
					limit = { ROOT = { has_government = fascism } }
					fascism > 0.500
				}
				if = {
					limit = { ROOT = { has_government = neutrality } }
					neutrality > 0.500
				}
				if = {
					limit = { ROOT = { has_government = trozkism } }
					trozkism > 0.500
				}
				if = {
					limit = { ROOT = { has_government = monarchy } }
					monarchy > 0.500
				}
			}
		}
		
		visible = {
			OR = {
				has_completed_focus = ideological_expansion
				has_completed_focus = patriotism_zeal
			}
			country_exists = FROM
			FROM = {
				NOT = {
					has_war_with = ROOT
					is_subject_of = ROOT
					is_in_faction_with = ROOT
					has_government = ROOT
				}
			}
		}
		
		target_trigger = {
			FROM = {
				NOT = {
					has_war_with = ROOT
					is_subject_of = ROOT
					is_in_faction_with = ROOT
				}
				any_owned_state = {
					any_neighbor_state = {
						owner = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
								is_in_faction_with = ROOT
							}
						}
					}
				}
			}
		}
		
		cost = 150
		
		complete_effect = {
			FROM = {
				start_civil_war = {
					ideology = ROOT
					size = 0.5
				}
			}
		}
		
		ai_will_do = {
			factor = 2
		}
	}
}
HHNBRG_opposition_in_habsburg_empire_category = {

	HHNBRG_opposition_in_habsburg_empire_dec = {

		icon = generic_civil_support

		available = {
			always = no
		}

		days_mission_timeout = 30

		activation = {
			always = no #Triggered from effect
		}

		cancel_trigger = {
			NOT = { has_war_with = event_target:NW_hhnbrg_scope }
		}

		visible = {
			
		}

		#is_good = yes

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): timeout decision HHNBRG_opposition_in_habsburg_empire_dec"

			random_list = {
				33 = {
					random_owned_state = {
						limit = {
							is_fully_controlled_by = ROOT
							arms_factory > 0
						}
						damage_building = {
							type = arms_factory
							damage = 0.25
						}
					}
				}
				33 = {
					random_owned_state = {
						limit = {
							is_fully_controlled_by = ROOT
							industrial_complex > 0
						}
						damage_building = {
							type = industrial_complex
							damage = 0.25
						}
					}
				}
				33 = {
					random_owned_state = {
						limit = {
							is_fully_controlled_by = ROOT
							infrastructure > 0
						}
						damage_building = {
							type = infrastructure
							damage = 1
						}
					}
				}
				1 = { }
			}
			hidden_effect = {
				if = {
					limit = { has_war_with = event_target:NW_hhnbrg_scope }
					activate_mission = HHNBRG_opposition_in_habsburg_empire_dec
				}
			}
		}
	}
}

HHNBRG_swiss_fortress_category = {

	HHNBRG_emergency_transfer_capital = {

		icon = eng_install_government
		
		available = {
			has_war = yes
			3 = { is_owned_and_controlled_by = ROOT }
		}

		visible = {
			has_completed_focus = HHNBRG_swiss_fortress
		}
		
		cost = 50
		days_remove = 10
		fire_only_once = yes
		
		remove_effect = {
			set_capital = 3
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	
	HHNBRG_north_border = {

		icon = eng_trade_unions_demand
		
		available = {
			any_owned_state = {
				is_core_of = SWI
				is_fully_controlled_by = ROOT
				any_neighbor_state = { 
					is_fully_controlled_by = GER
				}
			}
		}

		visible = {
			has_completed_focus = HHNBRG_swiss_fortress
		}
		
		cost = 25
		days_remove = 12
		fire_only_once = yes
		
		modifier = {
			production_speed_bunker_factor = 1.0
			production_speed_coastal_bunker_factor = 1.0
		}
		
		remove_effect = {
			every_owned_state = {
				limit = {
					is_core_of = SWI
					any_neighbor_state = { 
						is_fully_controlled_by = GER
					}
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = {
						limit_to_border = yes
					}
				}
			}
			set_country_flag = HHNBRG_north_border_flag
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 50
				has_war_with = GER
			}
		}
	}
	
	HHNBRG_strengthening_north_border = {

		icon = eng_trade_unions_demand
		
		available = {
			any_owned_state = {
				is_core_of = SWI
				is_fully_controlled_by = ROOT
				any_neighbor_state = { 
					is_fully_controlled_by = GER
				}
			}
		}

		visible = {
			has_completed_focus = HHNBRG_swiss_fortress
			has_country_flag = HHNBRG_north_border_flag
		}
		
		cost = 25
		days_remove = 12
		fire_only_once = yes
		
		modifier = {
			production_speed_bunker_factor = 1.0
			production_speed_coastal_bunker_factor = 1.0
		}
		
		remove_effect = {
			every_owned_state = {
				limit = {
					is_core_of = SWI
					any_neighbor_state = { 
						is_fully_controlled_by = GER
					}
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = {
						limit_to_border = yes
					}
				}
			}
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 50
				has_war_with = GER
			}
		}
	}
	
	
	HHNBRG_western_border = {

		icon = eng_trade_unions_demand
		
		available = {
			any_owned_state = {
				is_core_of = SWI
				is_fully_controlled_by = ROOT
				any_neighbor_state = { 
					is_fully_controlled_by = event_target:NW_france_scope
				}
			}
		}

		visible = {
			has_completed_focus = HHNBRG_swiss_fortress
		}
		
		cost = 25
		days_remove = 20
		fire_only_once = yes
		
		modifier = {
			production_speed_bunker_factor = 1.0
			production_speed_coastal_bunker_factor = 1.0
		}
		
		remove_effect = {
			every_owned_state = {
				limit = {
					is_core_of = SWI
					any_neighbor_state = { 
						is_fully_controlled_by = event_target:NW_france_scope
					}
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = {
						limit_to_border = yes
					}
				}
			}
			set_country_flag = HHNBRG_western_border_flag
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 50
				has_war_with = event_target:NW_france_scope
			}
		}
	}
	
	HHNBRG_strengthening_western_border = {

		icon = eng_trade_unions_demand
		
		available = {
			any_owned_state = {
				is_core_of = SWI
				is_fully_controlled_by = ROOT
				any_neighbor_state = { 
					is_fully_controlled_by = event_target:NW_france_scope
				}
			}
		}

		visible = {
			has_completed_focus = HHNBRG_swiss_fortress
			has_country_flag = HHNBRG_western_border_flag
		}
		
		cost = 25
		days_remove = 20
		fire_only_once = yes
		
		modifier = {
			production_speed_bunker_factor = 1.0
			production_speed_coastal_bunker_factor = 1.0
		}
		
		remove_effect = {
			every_owned_state = {
				limit = {
					is_core_of = SWI
					any_neighbor_state = { 
						is_fully_controlled_by = event_target:NW_france_scope
					}
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = {
						limit_to_border = yes
					}
				}
			}
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 50
				has_war_with = event_target:NW_france_scope
			}
		}
	}
	
	
	HHNBRG_southern_border = {

		icon = eng_trade_unions_demand
		
		available = {
			any_owned_state = {
				is_core_of = SWI
				is_fully_controlled_by = ROOT
				any_neighbor_state = { 
					is_fully_controlled_by = ITA
				}
			}
		}

		visible = {
			has_completed_focus = HHNBRG_swiss_fortress
		}
		
		cost = 25
		days_remove = 28
		fire_only_once = yes
		
		modifier = {
			production_speed_bunker_factor = 1.0
			production_speed_coastal_bunker_factor = 1.0
		}
		
		remove_effect = {
			every_owned_state = {
				limit = {
					is_core_of = SWI
					any_neighbor_state = { 
						is_fully_controlled_by = ITA
					}
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = {
						limit_to_border = yes
					}
				}
			}
			set_country_flag = HHNBRG_southern_border_flag
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 50
				has_war_with = ITA
			}
		}
	}
	
	HHNBRG_strengthening_southern_border = {

		icon = eng_trade_unions_demand
		
		available = {
			any_owned_state = {
				is_core_of = SWI
				is_fully_controlled_by = ROOT
				any_neighbor_state = { 
					is_fully_controlled_by = ITA
				}
			}
		}

		visible = {
			has_completed_focus = HHNBRG_swiss_fortress
			has_country_flag = HHNBRG_southern_border_flag
		}
		
		cost = 25
		days_remove = 28
		fire_only_once = yes
		
		modifier = {
			production_speed_bunker_factor = 1.0
			production_speed_coastal_bunker_factor = 1.0
		}
		
		remove_effect = {
			every_owned_state = {
				limit = {
					is_core_of = SWI
					any_neighbor_state = { 
						is_fully_controlled_by = ITA
					}
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = {
						limit_to_border = yes
					}
				}
			}
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 50
				has_war_with = ITA
			}
		}
	}
}

HHNBRG_polish_category = {

	HHNBRG_set_friendly_regime_in_poland = {

		icon = generic_civil_support
		
		available = {
			POL = { anarchism > 0.25 }
		}

		visible = {
			NOT = {
				has_war_with = POL
				has_wargoal_against = POL
			}
		}
		
		cost = 75
		days_remove = 10
		fire_only_once = yes
		
		remove_effect = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = POL
			}
			add_ai_strategy = {
				type = antagonize
				id = "POL"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "POL"
				value = 100
			}
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1
				strength_ratio = {
					tag = POL
					ratio < 1
				}
			}
			modifier = {
				factor = 5
				strength_ratio = {
					tag = POL
					ratio > 1.25
				}
			}
			modifier = {
				factor = 10
				strength_ratio = {
					tag = POL
					ratio > 2
				}
			}
		}
	}
	
	HHNBRG_call_polish_anarchists = {

		icon = eng_blackshirt_march
		
		available = {
			has_war_with = POL
			POL = { anarchism > 0.025 }
			any_state = {
				any_neighbor_state = {
					is_owned_by = POL
				}
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
						is_in_faction_with = ROOT
					}
				}
			}
			NOT = { has_country_flag = { flag = HHNBRG_call_polish_anarchists_flag value > 0 } }
		}

		visible = {
		}
		
		custom_cost_trigger = {
			has_political_power > 25.01
			command_power > 25.01
		}
		custom_cost_text = call_polish_anarchists_cost
		
		days_remove = 10
		days_re_enable = 30
		
		remove_effect = {
			POL = { add_popularity = { ideology = anarchism popularity = -0.025 } }
			hidden_effect = {
				if = {
					limit = { NOT = { has_template = "Polish volunteers" } }
					division_template = {
						name = "Polish volunteers"
						is_locked = yes
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 0 y = 3 }
						}
						support = {
							engineer = { x = 0 y = 0 }
						}
					}
				}
			}
			random_state = {
				limit = {
					any_neighbor_state = {
						is_owned_by = POL
					}
					owner = {
						OR = {
							tag = ROOT
							is_subject_of = ROOT
							is_in_faction_with = ROOT
						}
					}
				}
				create_unit = {
					division = "name = \"Polish volunteers\" division_template = \"Polish volunteers\" start_experience_factor = 0.6" 
					owner = ROOT
				}
				create_unit = {
					division = "name = \"Polish volunteers\" division_template = \"Polish volunteers\" start_experience_factor = 0.6" 
					owner = ROOT
				}
				create_unit = {
					division = "name = \"Polish volunteers\" division_template = \"Polish volunteers\" start_experience_factor = 0.6" 
					owner = ROOT
				}
				create_unit = {
					division = "name = \"Polish volunteers\" division_template = \"Polish volunteers\" start_experience_factor = 0.6" 
					owner = ROOT
				}
				create_unit = {
					division = "name = \"Polish volunteers\" division_template = \"Polish volunteers\" start_experience_factor = 0.6" 
					owner = ROOT
				}
			}
			custom_effect_tooltip = HHNBRG_call_polish_anarchists_tt
			hidden_effect = { POL = { country_event = { id = NWhohenberg.20 } } }
		}
		
		complete_effect = {
			set_country_flag = { flag = HHNBRG_call_polish_anarchists_flag days = 30 value = 1 }
			hidden_effect = {
				add_political_power = -25
				add_command_power = -25
			}
		}
		
		ai_will_do = {
			factor = 5
		}
	}
	
	HHNBRG_premature_attack = {

		icon = generic_ignite_civil_war
		
		available = {
			is_subject = no
			POL = { is_subject = no }
			any_other_country = {
				is_major = yes
				has_war_with = POL
			}
		}

		visible = {
			country_exists = POL
			NOT = {
				has_war_with = POL
				has_wargoal_against = POL
			}
		}

		days_remove = 10
		fire_only_once = yes
		
		remove_effect = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = POL
			}
			add_ai_strategy = {
				type = antagonize
				id = "POL"
				value = 200
			}
			add_ai_strategy = {
				type = conquer
				id = "POL"
				value = 100
			}
		}
		
		ai_will_do = {
			factor = 0
			modifier = {
				add = 100
				has_war = no
			}
			modifier = {
				add = 5
				strength_ratio = {
					tag = POL
					ratio > 1
				}
			}
			modifier = {
				add = 10
				strength_ratio = {
					tag = POL
					ratio > 2
				}
			}
		}
	}
}

HHNBRG_intervention_of_trade_unions_category = {

	HHNBRG_optimal_configuration_machines = {

		icon = generic_industry
		
		available = {
		}

		visible = {
			has_completed_focus = HHNBRG_intervention_of_trade_unions
		}
		
		cost = 100
		days_remove = 10
		days_re_enable = 365
		
		remove_effect = {
			add_timed_idea = { idea = HHNBRG_optimal_configuration_machines days = 365 }
		}
		
		ai_will_do = {
			factor = 5
		}
	}
	
	HHNBRG_regular_maintenance_shipyards = {

		icon = generic_construction
		
		available = {
			dockyard > 0
		}

		visible = {
			has_completed_focus = HHNBRG_intervention_of_trade_unions
		}
		
		cost = 100
		days_remove = 10
		days_re_enable = 365
		
		remove_effect = {
			add_timed_idea = { idea = HHNBRG_regular_maintenance_shipyards days = 365 }
		}
		
		ai_will_do = {
			factor = 5
		}
	}
	
	HHNBRG_development_farm_settlements = {

		icon = hol_attract_foreign_investors
		
		available = {
		}

		visible = {
			has_completed_focus = HHNBRG_intervention_of_trade_unions
		}
		
		cost = 100
		days_remove = 10
		days_re_enable = 365
		
		remove_effect = {
			add_timed_idea = { idea = HHNBRG_development_farm_settlements days = 365 }
		}
		
		ai_will_do = {
			factor = 2.5
		}
	}
	
	HHNBRG_urban_growth = {

		icon = eng_install_government
		
		available = {
		}

		visible = {
			has_completed_focus = HHNBRG_intervention_of_trade_unions
		}
		
		cost = 100
		days_remove = 10
		days_re_enable = 365
		
		remove_effect = {
			random_owned_controlled_state = {
				add_manpower = 50000
				add_extra_state_shared_building_slots = 1
			}
		}
		
		ai_will_do = {
			factor = 5
		}
	}
	
}



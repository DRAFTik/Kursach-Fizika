political_actions = { # было
 
	SIK_become_new_administration = {
		icon = generic_army_support
		allowed = {
			OR = { 
			    original_tag = KUM
				original_tag = KAS
				original_tag = TNG
				original_tag = DZH
			}	
		}
		available = {
			controls_state = 617
			controls_state = 619
			controls_state = 760
		}
		cost = 50
		ai_will_do = {
			factor = 10
		}
		visible = {
			NOT = { has_country_flag = sinkiang_new_administration }
		}
		complete_effect = {
		    log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision SIK_become_new_administration"
		    set_country_flag = sinkiang_new_administration
			every_state = {
				limit = { is_core_of = SIK }
				add_core_of = ROOT
			}
		}		
	}
}
	
KAS_war_preparations = { # было
	KAS_seize_arms = {
		icon = generic_army_support
        visible = {
			has_country_flag = KAS_muhiti_bought_rifles	
		}
		cost = 0
		ai_will_do = {
			factor = 25
		}
		fire_only_once = yes
		complete_effect = {
		   log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision KAS_seize_arms"
		   add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 500 producer = SOV }
	    }
	}
}

SIK_reform_of_financial_system_category = {
	
	SIK_issuance_of_new_currencies = {
		available = {
		}
		visible = {
		}
		cost = 25
		icon = decision_category_generic_trozkism     
		fire_only_once = yes
		days_remove = 360
		cancel_trigger = {
			hidden_trigger = { 
				has_country_flag = SIK_stop_support_flag
				NOT = { has_government = communism }
			}
		}
		modifier = {
			political_power_cost = 0.25
			civilian_factory_use = 1
		}
		remove_effect = {
			custom_effect_tooltip = SIK_issuance_of_new_currencies_tt
			hidden_effect = {
				if = {
					limit = {
						has_country_flag = SIK_bank_reorganisation_flag
						has_country_flag = SIK_improvement_of_financial_legislation_flag
						has_country_flag = SIK_training_of_economic_personnel_flag
					}
					SIK = { country_event = { id = NW_SIK.0 } }
				}
				else = {
					SIK = { country_event = { id = NW_SIK.1 } }
				}
				set_country_flag = SIK_issuance_of_new_currencies_flag
			}
		}
	}
	
	SIK_bank_reorganisation = {
		icon = decision_category_generic_trozkism
		available = {
		}
		visible = {
		}
		cost = 50
		fire_only_once = yes
		complete_effect = {	
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions SIK_bank_reorganisation"
			set_country_flag = SIK_bank_reorganisation_flag
			swap_ideas = {
				remove_idea = SIK_support_for_the_currency_of_Xinjiang_USSR
				add_idea = SIK_support_for_the_currency_of_Xinjiang_USSR_2
			}
		}
		ai_will_do {
			factor = 1
		}	
	}
	
	SIK_improvement_of_financial_legislation = {
		icon = decision_category_generic_trozkism
		available = {
		}
		visible = {
			has_country_flag = SIK_bank_reorganisation_flag
		}
		cost = 75
		fire_only_once = yes
		complete_effect = {	
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions SIK_improvement_of_financial_legislation"
			set_country_flag = SIK_improvement_of_financial_legislation_flag
			swap_ideas = {
				remove_idea = SIK_support_for_the_currency_of_Xinjiang_USSR_2
				add_idea = SIK_support_for_the_currency_of_Xinjiang_USSR_3
			}
		}
		ai_will_do {
			factor = 1
		}	
	}
	
	SIK_training_of_economic_personnel = {
		icon = decision_category_generic_trozkism
		available = {
		}
		visible = {
			has_country_flag = SIK_improvement_of_financial_legislation_flag
		}
		cost = 50
		fire_only_once = yes
		complete_effect = {	
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions SIK_training_of_economic_personnel"
			set_country_flag = SIK_training_of_economic_personnel_flag
			swap_ideas = {
				remove_idea = SIK_support_for_the_currency_of_Xinjiang_USSR_3
				add_idea = SIK_support_for_the_currency_of_Xinjiang_USSR_4
			}
		}
		ai_will_do {
			factor = 1
		}	
	}
}

SIK_outbreak_of_the_plague_category = {

	SIK_outbreak_of_the_plague = {
		allowed = {
			always = no
		}
		available = {
			always = no
		}
		activation = {
			always = no
		}
		icon = decision_category_generic_trozkism
		is_good = no
		days_mission_timeout = 720
		fire_only_once = yes
		timeout_effect = {
			618 = {
				remove_dynamic_modifier = { modifier = SIK_outbreak_of_the_plague_modifier }
			}
			1047 = {
				remove_dynamic_modifier = { modifier = SIK_outbreak_of_the_plague_modifier }
			}
		}
		complete_effect = {
		}
	}
	
	SIK_open_the_anti_plague_station = {
		icon = decision_category_generic_trozkism
		available = {
		}
		visible = {
		}
		cost = 50
		fire_only_once = yes
		complete_effect = {	
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions SIK_open_the_anti_plague_station"
			set_country_flag = SIK_open_the_anti_plague_station_flag
			add_days_mission_timeout = {
				mission = SIK_outbreak_of_the_plague
				days = -180
			}
		}
		ai_will_do {
			factor = 1
		}	
	}
	
	SIK_start_vaccination_of_the_population_in_Dzungaria = {
		icon = decision_category_generic_trozkism
		available = {
			has_country_flag = SIK_open_the_anti_plague_station_flag
		}
		visible = {
			controls_state = 618
		}
		cost = 25
		fire_only_once = yes
		days_remove = 21
		modifier = {
			civilian_factory_use = 1
		}
		remove_effect = {	
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions SIK_start_vaccination_of_the_population_in_Dzungaria"
			add_days_mission_timeout = {
				mission = SIK_outbreak_of_the_plague
				days = -180
			}
		}
		ai_will_do {
			factor = 1
		}	
	}
	
	SIK_start_vaccination_of_the_population_in_Aksu = {
		icon = decision_category_generic_trozkism
		available = {
			has_country_flag = SIK_open_the_anti_plague_station_flag
		}
		visible = {
			controls_state = 1047
		}
		cost = 25
		days_remove = 21
		modifier = {
			civilian_factory_use = 1
		}
		fire_only_once = yes
		remove_effect = {	
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions SIK_start_vaccination_of_the_population_in_Aksu"
			add_days_mission_timeout = {
				mission = SIK_outbreak_of_the_plague
				days = -180
			}
		}
		ai_will_do {
			factor = 1
		}	
	}
	
	SIK_destroy_rodents_in_settlements = {
		icon = decision_category_generic_trozkism
		available = {
		}
		visible = {
			controls_state = 1047
		}
		fire_only_once = yes
		custom_cost_trigger = {
			set_temp_variable = { infantry_equipment_temp_cost = 100 }
			has_equipment = { infantry_equipment > infantry_equipment_temp_cost }
		}
		custom_cost_text = infantry_equipment_cost
		complete_effect = {	
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions SIK_destroy_rodents_in_settlements"
			add_days_mission_timeout = {
				mission = SIK_outbreak_of_the_plague
				days = -90
			}
		}
		ai_will_do {
			factor = 1
		}	
	}
}

###Разработка ресурсов в Синьцзяне###

SOV_resource_development_in_Xinjiang_category = {

	SOV_start_the_development_of_the_tungsten_deposit = {
		visible = {
			SIK = {
				controls_state = 617
			}
		}
		icon = decision_category_generic_trozkism
		cost = 50
        fire_only_once = yes
        complete_effect = {
			set_country_flag = SOV_start_the_development_of_the_tungsten_deposit_flag
			add_resource = {
				type = tungsten
				amount = 12
				state = 617
			}
			SIK = {
				give_resource_rights = {
					receiver = ROOT
					state = 617
					resources = { tungsten }
				}
			}
			if = {
				limit = {
					OR = {
						has_country_flag = SOV_start_the_development_of_the_tungsten_deposit_flag
						has_country_flag = SOV_start_the_development_of_the_aluminum_deposit_flag
					}
					OR = {
						has_country_flag = SOV_start_the_development_of_the_tungsten_deposit_flag
						has_country_flag = SOV_additional_oil_exploration_flag
					}
					OR = {
						has_country_flag = SOV_start_the_development_of_the_tungsten_deposit_flag
						has_country_flag = SOV_start_uranium_mining_flag
					}
				}
				hidden_effect = {
					SIK = { country_event = { id = NW_SIK_SOV.11 } }
				}
			}
        }
        ai_will_do {
			factor = 1
		}	
    }
	
	SOV_start_the_development_of_the_aluminum_deposit = {
		visible = {
			SIK = {
				controls_state = 618
			}
		}
		icon = decision_category_generic_trozkism
		cost = 50
        fire_only_once = yes
        complete_effect = {
			set_country_flag = SOV_start_the_development_of_the_aluminum_deposit_flag
			add_resource = {
				type = aluminium
				amount = 8
				state = 618
			}
			SIK = {
				give_resource_rights = {
					receiver = ROOT
					state = 618
					resources = { aluminium }
				}
			}
			if = {
				limit = {
					OR = {
						has_country_flag = SOV_start_the_development_of_the_tungsten_deposit_flag
						has_country_flag = SOV_start_the_development_of_the_aluminum_deposit_flag
					}
					OR = {
						has_country_flag = SOV_start_the_development_of_the_aluminum_deposit_flag
						has_country_flag = SOV_additional_oil_exploration_flag
					}
					OR = {
						has_country_flag = SOV_start_the_development_of_the_aluminum_deposit_flag
						has_country_flag = SOV_start_uranium_mining_flag
					}
				}
				hidden_effect = {
					SIK = { country_event = { id = NW_SIK_SOV.11 } }
				}
			}
        }
        ai_will_do {
			factor = 1
		}	
    }
	
	SOV_additional_oil_exploration = {
		visible = {
			SIK = {
				controls_state = 617
			}
		}
		icon = decision_category_generic_trozkism
		cost = 50
        fire_only_once = yes
        complete_effect = {
			set_country_flag = SOV_additional_oil_exploration_flag
			add_resource = {
				type = oil
				amount = 8
				state = 617
			}
			SIK = {
				give_resource_rights = {
					receiver = ROOT
					state = 617
					resources = { oil }
				}
			}
			if = {
				limit = {
					OR = {
						has_country_flag = SOV_additional_oil_exploration_flag
						has_country_flag = SOV_start_the_development_of_the_tungsten_deposit_flag
					}
					OR = {
						has_country_flag = SOV_start_the_development_of_the_aluminum_deposit_flag
						has_country_flag = SOV_additional_oil_exploration_flag
					}
					OR = {
						has_country_flag = SOV_additional_oil_exploration_flag
						has_country_flag = SOV_start_uranium_mining_flag
					}
				}
				hidden_effect = {
					SIK = { country_event = { id = NW_SIK_SOV.11 } }
				}
			}
        }
        ai_will_do {
			factor = 1
		}	
    }
	
	SOV_start_uranium_mining = {
		visible = {
			has_tech = atomic_research
		}
		icon = decision_category_generic_trozkism
        fire_only_once = yes
        complete_effect = {
			set_country_flag = SOV_start_uranium_mining_flag
			add_ideas = SIK_Xinjiang_uranium_mines
			if = {
				limit = {
					OR = {
						has_country_flag = SOV_start_uranium_mining_flag
						has_country_flag = SOV_start_the_development_of_the_tungsten_deposit_flag
					}
					OR = {
						has_country_flag = SOV_start_the_development_of_the_aluminum_deposit_flag
						has_country_flag = SOV_start_uranium_mining_flag
					}
					OR = {
						has_country_flag = SOV_additional_oil_exploration_flag
						has_country_flag = SOV_start_uranium_mining_flag
					}
				}
				hidden_effect = {
					SIK = { country_event = { id = NW_SIK_SOV.11 } }
				}
			}
        }
        ai_will_do {
			factor = 1
		}	
    }
}
SIK_activities_of_the_Xinjiang_Oil_Society_category = {
	
	SIK_construction_of_an_oil_refinery = {
		available = {
		}
		visible = {
		}
		cost = 100
		icon = decision_category_generic_trozkism     
		fire_only_once = yes
		days_remove = 180
		cancel_trigger = {
			NOT = {
				controls_state = 618
				controls_state = 617
			}
		}
		modifier = {
			civilian_factory_use = 2
		}
		remove_effect = {
			617 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
			add_resource = {
				type = oil
				amount = 12
				state = 618
			}
			add_resource = {
				type = oil
				amount = 12
				state = 617
			}
		}
	}
	
	SIK_build_oil_storage_facilities = {
		icon = decision_category_generic_trozkism
		available = {
		}
		visible = {
			NOT = {
				has_tech = fuel_silos
			}
		}
		cost = 75
		fire_only_once = yes
		complete_effect = {	
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions SIK_build_oil_storage_facilities"
			add_tech_bonus = {
				name = SIK_fuel_silos
				ahead_reduction = 1
				uses = 1
				technology = fuel_silos
			}
		}
		ai_will_do {
			factor = 1
		}	
	}
	
	SIK_build_oil_pipelines = {
		icon = decision_category_generic_trozkism
		available = {
		}
		visible = {
		}
		cost = 75
		fire_only_once = yes
		complete_effect = {	
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions SIK_build_oil_pipelines"
			add_tech_bonus = {
				name = SIK_synth_resources
				bonus = 0.5
				uses = 1
				category = synth_resources
			}
		}
		ai_will_do {
			factor = 1
		}	
	}
}

SIK_getting_rid_of_Soviet_influence_category = {

	SIK_start_collecting_information_on_officials = {
		available = {
			custom_trigger_tooltip = { 
				tooltip = SIK_start_collecting_information_on_officials_tt 
				check_variable = { soviet_influence > 0 }
			}
		}
		visible = {
		}
		cost = 15
		icon = decision_category_generic_trozkism     
		fire_only_once = no
		days_remove = 180
		cancel_trigger = { 
			hidden_trigger = { 
				NOT = { 
					OR = { 
						has_country_leader = { character = SIK_Sheng_Shicai ruling_only = yes } 
						has_government = communism 
						check_variable = { soviet_influence = 0 }
					} 
				}
			}
		}
		cancel_effect = { clr_country_flag = SIK_start_collecting_information_on_officials_flag_2 } 
		complete_effect = { set_country_flag = SIK_start_collecting_information_on_officials_flag_2 }
		modifier = {
			political_power_cost = 0.1
			custom_modifier_tooltip = SIK_start_collecting_information_on_officials_2_tt
		}
		remove_effect = {
			set_country_flag = SIK_start_collecting_information_on_officials_flag
			clr_country_flag = SIK_start_collecting_information_on_officials_flag_2
		}
	}
	
	SIK_demote_communist_cadres_in_positions = {
		icon = decision_category_generic_trozkism
		available = {
			custom_trigger_tooltip = { 
				tooltip = SIK_demote_communist_cadres_in_positions_tt 
				check_variable = { soviet_influence < 85 }
			}
		}
		visible = {
		}
		cost = 40
		fire_only_once = yes
		complete_effect = {	
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions SIK_demote_communist_cadres_in_positions"
			add_to_variable = {
				var = soviet_influence
				value = -20
				tooltip = SIK_minus_to_var_tt
			}
		}
		ai_will_do {
			factor = 1
		}	
	}
	
	SIK_invite_a_Kuomintang_diplomat_to_Xinjiang = {
		icon = decision_category_generic_trozkism
		available = {
			custom_trigger_tooltip = { 
				tooltip = SIK_invite_a_Kuomintang_diplomat_to_Xinjiang_tt 
				check_variable = { soviet_influence < 95 }
			}
		}
		visible = {
		}
		cost = 10
		fire_only_once = yes
		complete_effect = {	
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions SIK_invite_a_Kuomintang_diplomat_to_Xinjiang"
			add_to_variable = {
				var = soviet_influence
				value = -5
				tooltip = SIK_minus_to_var_tt
			}
			unlock_decision_tooltip = SIK_invite_a_delegation_of_Kuomintang_officials
			set_country_flag = SIK_invite_a_Kuomintang_diplomat_to_Xinjiang_flag 
			hidden_effect = {
				CHI = { 
					country_event = { id = NW_SIK_CHI.2 }
				}
			}
		}
		ai_will_do {
			factor = 1
		}	
	}
	
	SIK_invite_a_delegation_of_Kuomintang_officials = {
		icon = decision_category_generic_trozkism
		available = {
			custom_trigger_tooltip = { 
				tooltip = SIK_invite_a_delegation_of_Kuomintang_officials_tt 
				check_variable = { soviet_influence < 75 }
			}
		}
		visible = {
			has_country_flag = SIK_invite_a_Kuomintang_diplomat_to_Xinjiang_flag 
		}
		cost = 15
		fire_only_once = yes
		complete_effect = {	
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions SIK_invite_a_delegation_of_Kuomintang_officials"
			add_to_variable = {
				var = soviet_influence
				value = -15
				tooltip = SIK_minus_to_var_tt
			}
			hidden_effect = {
				CHI = { 
					country_event = { id = NW_SIK_CHI.3 }
				}
			}
		}
		ai_will_do {
			factor = 1
		}	
	}
	
	SIK_remove_Sheng_Shiqi = {
		icon = decision_category_generic_trozkism
		available = {
			NOT = { has_country_flag = SIK_learning_in_Moscow_flag }
			custom_trigger_tooltip = { 
				tooltip = SIK_remove_Sheng_Shiqi_tt 
				check_variable = { soviet_influence < 80 }
			}
		}
		visible = {
			NOT = { has_country_flag = SIK_learning_in_Moscow_flag }
		}
		cost = 50
		fire_only_once = yes
		complete_effect = {	
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions SIK_remove_Sheng_Shiqi"
			set_country_flag = SIK_remove_Sheng_Shiqi_flag
			SOV = { set_country_flag = SIK_remove_Sheng_Shiqi_flag }
			hidden_effect = {
				country_event = { id = NW_SIK_SOV.12 }
				SOV = { 
					country_event = { id = NW_SIK_SOV.12 }
				}
			}
		}
		ai_will_do {
			factor = 1
		}	
	}
	
	SIK_ask_to_appoint_a_foreign_minister_of_Xinjiang = {
		icon = decision_category_generic_trozkism
		available = {
			custom_trigger_tooltip = { 
				tooltip = SIK_ask_to_appoint_a_foreign_minister_of_Xinjiang_tt 
				check_variable = { soviet_influence < 65 }
			}
		}
		visible = {
		}
		cost = 15
		fire_only_once = yes
		complete_effect = {	
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions SIK_ask_to_appoint_a_foreign_minister_of_Xinjiang"
			add_to_variable = {
				var = soviet_influence
				value = -10
				tooltip = SIK_minus_to_var_tt
			}
			set_country_flag = SIK_U_Zcezyan_flag
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SIK_U_Zcezyan
		}
		ai_will_do {
			factor = 1
		}	
	}
	
	SIK_relocate_Chinese_Communists_to_the_outskirts_of_Urumqi = {
		icon = decision_category_generic_trozkism
		available = {
			has_country_flag = SIK_start_collecting_information_on_officials_flag
		}
		visible = {
		}
		cost = 10
		fire_only_once = yes
		complete_effect = {	
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions SIK_relocate_Chinese_Communists_to_the_outskirts_of_Urumqi"
			set_country_flag = SIK_relocate_Chinese_Communists_to_the_outskirts_of_Urumqi_flag
			add_to_variable = {
				var = soviet_influence
				value = -10
				tooltip = SIK_minus_to_var_tt
			}
		}
		ai_will_do {
			factor = 1
		}	
	}
	
	SIK_remove_Mao_Zemin = {
		icon = decision_category_generic_trozkism
		available = {
			has_country_flag = SIK_relocate_Chinese_Communists_to_the_outskirts_of_Urumqi_flag
		}
		visible = {
			has_country_flag = SIK_invite_the_CCP_bureaucratic_flag
		}
		cost = 100
		fire_only_once = yes
		complete_effect = {	
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions SIK_remove_Sheng_Shiqi"
			custom_effect_tooltip = remove_political_advisor
			show_ideas_tooltip = SIK_Mao_Zemin
			SOV = { set_country_flag = SIK_remove_Mao_Zemin_flag }
			set_country_flag = SIK_remove_Mao_Zemin_flag
			country_event = { id = NW_SIK_SOV.20 }
		}
		ai_will_do {
			factor = 1
		}	
	}
}

SOV_Soviet_influence_in_Xinjiang_category = {

	SOV_to_make_a_pro_Soviet_coup = {
		available = {
			NOT = { 
				OR = {
					has_country_flag = SIK_remove_Sheng_Shiqi_flag
					SIK = { has_country_flag = SIK_learning_in_Moscow_flag }
				}
			} 
		}
		visible = {
			NOT = { 
				OR = {
					has_country_flag = SIK_remove_Sheng_Shiqi_flag 
					SIK = { has_country_flag = SIK_learning_in_Moscow_flag }
				}
			}
		}
		icon = decision_category_generic_trozkism     
		fire_only_once = yes
		days_remove = 30
		modifier = {
			political_power_cost = 0.15
		}
		cancel_trigger = { 
			has_country_flag = SIK_remove_Sheng_Shiqi_flag 
			SIK = {
				OR = { 
					has_government = neutrality 
					has_country_flag = SIK_learning_in_Moscow_flag 
				} 
			}
		} 
		remove_effect = {
			hidden_effect = {
				SIK = { country_event = { id = NW_SIK_SOV.16 } }
				CHI = { country_event = { id = NW_SIK_SOV.16 } }
				country_event = { id = NW_SIK_SOV.16 }
			}
		}
	}
	
	SOV_use_Mao_Zemin = {
		available = {
			NOT = { has_country_flag = SIK_remove_Mao_Zemin_flag }
			has_country_flag = SIK_remove_Sheng_Shiqi_flag
		}
		visible = {
			SIK = { 
				OR = {
					has_country_flag = SIK_invite_the_CCP_bureaucratic_flag 
					has_country_flag = SIK_learning_in_Moscow_flag
				}
			}
			NOT = { has_country_flag = SIK_remove_Mao_Zemin_flag } 
		}
		icon = decision_category_generic_trozkism     
		fire_only_once = yes
		days_remove = 30
		modifier = {
			political_power_cost = 0.15
		}
		cancel_trigger = { 
			has_country_flag = SIK_remove_Mao_Zemin_flag 
			SIK = { has_government = neutrality } 
		}
		remove_effect = {
			hidden_effect = {
				SIK = { country_event = { id = NW_SIK_SOV.21 } }
				CHI = { country_event = { id = NW_SIK_SOV.21 } }
				country_event = { id = NW_SIK_SOV.21 }
			}
		}
	}
	
	SOV_Molotov_presentation = {
		icon = decision_category_generic_trozkism
		available = {
		}
		visible = {
		}
		cost = 30
		fire_only_once = yes
		complete_effect = {	
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decisions SOV_Molotov_presentation"
			SIK = { country_event = { id = NW_SIK_SOV.18 } }
		}
		ai_will_do {
			factor = 1
		}	
	}
}
FRA_peace_category = {

	FRA_peace = {

		icon = generic_form_nation
		
		available = {
			has_capitulated = no
			16 = {
				OR = {
					is_controlled_by = GER
					is_controlled_by = ITA
				}
			}
			NOT = {
				any_state = {
					is_controlled_by = ROOT
					OR = {
						is_owned_by = GER
						is_owned_by = ITA
					}
				}
			}
		}
		
		visible = {
			has_country_flag = FRA_peace_flag
			OR = {
				has_government = neutrality
				has_government = democratic
			}
			OR = {
				AND = {
					has_war_with = GER
					NOT = { has_war_with = ITA }
				}
				AND = {
					has_war_with = ITA
					NOT = { has_war_with = GER }
				}
				AND = {
					GER = { has_war_with = ROOT }
					ITA = { has_war_with = ROOT }
					ITA = { is_in_faction_with = GER }
				}
			}
		}
		
		cost = 20
		fire_only_once = yes

		complete_effect = {
			event_target:france_occupy_leader = { country_event = { id = NWfrance.102 days = 1 } }
			clr_country_flag = FRA_peace_flag
			hidden_effect = {
				set_variable = { fra_comm = party_popularity@communism }
				set_variable = { fra_demo = party_popularity@democratic }
				set_variable = { fra_fash = party_popularity@fascism }
				set_variable = { fra_neut = party_popularity@neutrality }
				multiply_variable = { fra_comm = 100 }
				multiply_variable = { fra_demo = 100 }
				multiply_variable = { fra_fash = 100 }
				multiply_variable = { fra_neut = 100 }
				log = "[GetDateText]: [Root.GetName]: fra_comm:[?fra_comm]"
				log = "[GetDateText]: [Root.GetName]: fra_demo:[?fra_demo]"
				log = "[GetDateText]: [Root.GetName]: fra_fash:[?fra_fash]"
				log = "[GetDateText]: [Root.GetName]: fra_neut:[?fra_neut]"
			}
		}

		ai_will_do = {
			factor = 100
		}
	}
}

FRA_war_category = {

	FRA_war_with_SOV = {

		icon = generic_ignite_civil_war
		
		allowed = {
			original_tag = FRA
		}

		available = {
			NOT = {
				has_war_with = SOV
				is_in_faction_with = SOV
			}
			threat > 0.3
		}
		
		visible = {
			has_completed_focus = FRA_antisoviet_union
		}
		
		cost = 25
		fire_only_once = yes

		complete_effect = {
			add_war_support = 0.05
			if = {
				limit = { NOT = { has_war_with = SOV } }
				declare_war_on = {
					target = SOV
					type = annex_everything
				}
				add_named_threat = {
					threat = 10
					name = FRA_war_with_SOV
				}
			}
			every_country = {
				limit = { has_idea = FRA_antisoviet_union_idea }
				declare_war_on = {
					target = SOV
					type = annex_everything
				}
			}
		}

		ai_will_do = {
			factor = 0.5
			modifier = {
				factor = 0
				NOT = { has_completed_focus = FRA_seek_support_in_balkans }
			}
			modifier = {
				factor = 0.1
				SOV = { has_war = no }
			}
			modifier = {
				factor = 10
				strength_ratio = {
					tag = SOV
					ratio > 1
				}
			}
			modifier = {
				factor = 20
				strength_ratio = {
					tag = SOV
					ratio > 2
				}
			}
			modifier = {
				factor = 10
				alliance_strength_ratio > 1
			}
			modifier = {
				factor = 20
				alliance_strength_ratio > 2
			}
			modifier = {
				factor = 10
				has_completed_focus = FRA_seek_support_in_balkans
			}
			
		}
	}
	
	FRA_war_with_GER = {

		icon = generic_ignite_civil_war
		
		allowed = {
			original_tag = FRA
		}

		available = {
			NOT = {
				has_war_with = GER
				is_in_faction_with = GER
			}
			threat > 0.3
		}
		
		visible = {
			has_completed_focus = FRA_antigerman_union
		}
		
		cost = 25
		fire_only_once = yes

		complete_effect = {
			add_war_support = 0.05
			if = {
				limit = { NOT = { has_war_with = GER } }
				declare_war_on = {
					target = GER
					type = annex_everything
				}
				add_named_threat = {
					threat = 10
					name = FRA_war_with_GER
				}
			}
			every_country = {
				limit = { has_idea = FRA_antigerman_union_idea }
				declare_war_on = {
					target = GER
					type = annex_everything
				}
			}
		}

		ai_will_do = {
			factor = 0.5
			modifier = {
				factor = 0
				NOT = { has_completed_focus = FRA_seek_support_in_balkans }
			}
			modifier = {
				factor = 0.1
				GER = { has_war = no }
			}
			modifier = {
				factor = 10
				strength_ratio = {
					tag = GER
					ratio > 1
				}
			}
			modifier = {
				factor = 20
				strength_ratio = {
					tag = GER
					ratio > 2
				}
			}
			modifier = {
				factor = 10
				alliance_strength_ratio > 1
			}
			modifier = {
				factor = 20
				alliance_strength_ratio > 2
			}
			modifier = {
				factor = 10
				has_completed_focus = FRA_seek_support_in_balkans
			}
		}
	}
}

FRA_polit_category = {

	FRA_accuse_soviet_union_of_inciting_civil_war = {

		icon = generic_ignite_civil_war
		
		allowed = {
			original_tag = FRA
		}

		available = {
			NOT = { has_war_with = FRC }
			NOT = { country_exists = FRC }
		}
		
		visible = {
			has_country_flag = FRA_commi_revolt_flag
		}
		
		cost = 25
		fire_only_once = yes

		complete_effect = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = SOV
			}
			SOV = {
				add_named_threat = { 
					threat = 5
					name = soviet_union_of_inciting_civil_war
				}
			}
			add_ai_strategy = {
				type = antagonize
				id = "SOV"
				value = 5000
			}
			news_event = { hours = 6 id = trworldnews.76 }
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				threat < 0.3
				is_in_faction = no
				OR = {
					SOV = { has_war = no }
					NOT = {
						is_in_faction_with = POL
						is_in_faction_with = FIN
						is_in_faction_with = ROM
						is_in_faction_with = TUR
					}
				}
			}
		}
	}
}




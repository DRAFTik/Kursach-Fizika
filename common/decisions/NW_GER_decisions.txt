GER_banks_brazil = {

	GER_banks_brazil_support = {

		icon = generic_construction

		visible = {
			NOT = { has_country_flag = BRA_no_german_banks }
		}

		fire_only_once = no
		
		modifier = {
			stability_weekly = 0.005
			consumer_goods_factor = -0.05
		}

		days_remove = 180
		days_re_enable = 300

		cost = 100

		available = {
			NOT = { has_country_flag = BRA_no_german_banks }
			GER = { has_opinion = { target = ROOT value > 49 } }
			NOT = { has_war_with = GER }
        }

		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision GER_banks_brazil_support"
		}

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				has_stability < 0.6
			}
		}
	}
	
	GER_banks_brazil_close = {

		icon = generic_construction

		fire_only_once = yes

		available = {
		
        }

		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision GER_banks_brazil_close"
			
			add_political_power = 200
			hidden_effect = {
				set_country_flag = BRA_no_german_banks
			}
		}

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				has_stability < 0.6
			}
		}
	}
}

spain_civil_war_category = {
	GER_support_SPA_infantry_weapons = {

		icon = generic_prepare_civil_war
		
		allowed = {
			original_tag = GER
		}

		available = {
			has_equipment = { infantry_equipment > 1000 }
		}
	
		cost = 50
		days_re_enable = 60
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision GER_support_SPA_infantry_weapons"
			
			send_equipment = {
				equipment = infantry_equipment
				amount = 1000
				target = SPA
			}
		}
		
		ai_will_do = {
			factor = 20
		}
	}
	GER_support_SPA_air_light_fighter = {

		icon = generic_air
		
		allowed = {
			original_tag = GER
		}

		available = {
			has_equipment = { fighter_equipment > 500 }
		}

		cost = 100
		days_re_enable = 90
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision GER_support_SPA_air_light_fighter"
			
			send_equipment = {
				equipment = fighter_equipment
				amount = 500
				target = SPA
			}
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	GER_support_SPA_light_tanks = {

		icon = generic_tank
		
		allowed = {
			original_tag = GER
		}

		available = {
			has_equipment = { light_tank_chassis > 250 }
		}

		cost = 100
		days_re_enable = 90
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision GER_support_SPA_light_tanks"
			
			send_equipment = {
				equipment = light_tank_chassis
				amount = 250
				target = SPA
			}
		}
		
		ai_will_do = {
			factor = 15
		}
	}
	GER_support_SPA_motorized = {

		icon = generic_industry
		
		allowed = {
			original_tag = GER
		}

		available = {
			has_equipment = { motorized_equipment > 500 }
		}

		cost = 50
		days_re_enable = 60
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision GER_support_SPA_motorized"
			
			send_equipment = {
				equipment = motorized_equipment
				amount = 500
				target = SPA
			}
		}
		
		ai_will_do = {
			factor = 20
		}
	}
}

ger_greece_war_category = {
	ger_greece_spawn = {

		icon = decision_ger_reichskommissariats

		available = {
			ITA = { NOT = { is_in_faction_with = GER } }
			OR = {
				AND = {
					GER = { has_war_with = GRE }
					any_of_scopes = {
						array = global.majors
						tooltip = is_major_tt
						has_war_together_with = GRE
						has_capitulated = no
					}
				}
				AND = {
					GER = { has_war_with = CRE }
					any_of_scopes = {
						array = global.majors
						tooltip = is_major_tt
						has_war_together_with = CRE
						has_capitulated = no
					}
				}
			}
		}

		visible = {
			tag = GER
			has_government = fascism
			OR = {
				has_war_with = GRE
				has_war_with = CRE
			}
		}
		
		fire_only_once = yes
		cost = 50
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision ger_greece_spawn"
			
			set_global_flag = ger_form_hel_flag
		}
		
		ai_will_do = {
			factor = 200
		}
	}
}

GER_fighting_remnants_of_nazis_category = {
	GER_spend_sweep_of_cities = {
		icon = decision_eng_install_government
		cancel_trigger = {
			check_variable = { var_nazi_resistance < 1 }
		}
		custom_cost_trigger = {
			set_temp_variable = { var_has_manpower_temp = 500 }
			set_temp_variable = { var_infantry_equipment_temp = 300 }
			has_manpower > var_has_manpower_temp
			has_equipment = { infantry_equipment > var_infantry_equipment_temp }
		}
		custom_cost_text = infantry_equipment_and_manpower_cost
		days_remove = 30
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): remove decision GER_spend_sweep_of_cities"
			set_temp_variable = { var_nazi_resistance_temp = -7 }
			add_to_variable = { var_nazi_resistance = var_nazi_resistance_temp }
			custom_effect_tooltip = GER_var_nazi_resistance_tt
			force_update_dynamic_modifier = yes
			hidden_effect = {
				if = {
					limit = {
						check_variable = { var_nazi_resistance < 1 }
					}
					country_event = { id = NWgermany.34 hours = 4 }
				}
			}
		}
		complete_effect = {
			hidden_effect = {
				add_manpower = -500
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -300
				}
			}
		}
		ai_will_do = {
			factor = 200
		}
	}
	
	GER_arrange_raids_in_rural_areas = {
		icon = decision_generic_scorched_earth
		cancel_trigger = {
			check_variable = { var_nazi_resistance < 1 }
		}
		custom_cost_trigger = {
			set_temp_variable = { var_has_manpower_temp = 750 }
			set_temp_variable = { var_infantry_equipment_temp = 250 }
			has_manpower > var_has_manpower_temp
			has_equipment = { infantry_equipment > var_infantry_equipment_temp }
		}
		custom_cost_text = infantry_equipment_and_manpower_cost
		days_remove = 50
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): remove decision GER_arrange_raids_in_rural_areas"
			set_temp_variable = { var_nazi_resistance_temp = -5 }
			add_to_variable = { var_nazi_resistance = var_nazi_resistance_temp }
			custom_effect_tooltip = GER_var_nazi_resistance_tt
			force_update_dynamic_modifier = yes
			hidden_effect = {
				if = {
					limit = {
						check_variable = { var_nazi_resistance < 1 }
					}
					country_event = { id = NWgermany.34 hours = 4 }
				}
			}
		}
		complete_effect = {
			hidden_effect = {
				add_manpower = -750
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -250
				}
			}
		}
		ai_will_do = {
			factor = 200
		}
	}
	
	GER_spread_anti_nazi_agitation = {
		icon = decision_generic_police_action
		cancel_trigger = {
			check_variable = { var_nazi_resistance < 1 }
		}
		cost = 25
		days_remove = 15
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): remove decision GER_spread_anti_nazi_agitation"
			set_temp_variable = { var_nazi_resistance_temp = -3 }
			add_to_variable = { var_nazi_resistance = var_nazi_resistance_temp }
			custom_effect_tooltip = GER_var_nazi_resistance_tt
			force_update_dynamic_modifier = yes
			hidden_effect = {
				if = {
					limit = {
						check_variable = { var_nazi_resistance < 1 }
					}
					country_event = { id = NWgermany.34 hours = 4 }
				}
			}
		}
		ai_will_do = {
			factor = 35
		}
	}
}

GER_popular_front_category = {
	GER_raise_black_crowds_in_rhineland = {
		icon = decision_POL_looming_peasants_strike
		highlight_states = { highlight_state_targets = { state = 829 } }
		fire_only_once = yes
		
		available = {
			communism > 0.02
		}
		
		cost = 40
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision GER_raise_black_crowds_in_rhineland"
			add_popularity = { ideology = communism popularity = -0.02 }
			add_popularity = { ideology = anarchism popularity = 0.04 }
			effect_tooltip = {
				829 = {
					create_unit = {
						division = "name = \"Rote Miliz\" division_template = \"Rote Miliz\" start_experience_factor = 0.3"
						owner = ROOT
						count = 2
						allow_spawning_on_enemy_provs = yes
					}
				}
			}
			hidden_effect = {
				load_oob = GER_black_crowds_in_rhineland
			}
		}
		ai_will_do = {
			factor = 30
		}
	}
	GER_raise_black_crowds_in_saxony = {
		icon = decision_POL_looming_peasants_strike
		highlight_states = { highlight_state_targets = { state = 65 } }
		fire_only_once = yes
		
		available = {
			communism > 0.02
		}
		
		cost = 40
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision GER_raise_black_crowds_in_saxony"
			add_popularity = { ideology = communism popularity = -0.02 }
			add_popularity = { ideology = anarchism popularity = 0.04 }
			effect_tooltip = {
				65 = {
					create_unit = {
						division = "name = \"Rote Miliz\" division_template = \"Rote Miliz\" start_experience_factor = 0.3"
						owner = ROOT
						count = 2
						allow_spawning_on_enemy_provs = yes
					}
				}
			}
			hidden_effect = {
				load_oob = GER_black_crowds_in_saxony
			}
		}
		ai_will_do = {
			factor = 30
		}
	}
	GER_raise_black_crowds_in_berlin = {
		icon = decision_POL_looming_peasants_strike
		highlight_states = { highlight_state_targets = { state = 64 } }
		fire_only_once = yes
		
		available = {
			communism > 0.01
		}
		
		cost = 40
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision GER_raise_black_crowds_in_berlin"
			add_popularity = { ideology = communism popularity = -0.01 }
			add_popularity = { ideology = anarchism popularity = 0.02 }
			effect_tooltip = {
				64 = {
					create_unit = {
						division = "name = \"Rote Miliz\" division_template = \"Rote Miliz\" start_experience_factor = 0.3"
						owner = ROOT
						count = 1
						allow_spawning_on_enemy_provs = yes
					}
				}
			}
			hidden_effect = {
				load_oob = GER_black_crowds_in_berlin
			}
		}
		ai_will_do = {
			factor = 30
		}
	}
	GER_contact_social_democratic_underground_of_berlin = {
		icon = decision_generic_political_discourse
		highlight_states = { highlight_state_targets = { state = 42 } }
		fire_only_once = yes
		
		available = {
			communism > 0.01
		}
		
		cost = 40
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision GER_contact_social_democratic_underground_of_berlin"
			add_popularity = { ideology = communism popularity = -0.01 }
			add_popularity = { ideology = democratic popularity = 0.02 }
			effect_tooltip = {
				42 = {
					create_unit = {
						division = "name = \"Rote Miliz\" division_template = \"Rote Miliz\" start_experience_factor = 0.3"
						owner = ROOT
						count = 1
						allow_spawning_on_enemy_provs = yes
					}
				}
			}
			hidden_effect = {
				load_oob = GER_social_democratic_underground_of_berlin
			}
		}
		ai_will_do = {
			factor = 30
		}
	}
	GER_contact_social_democratic_underground_of_rhineland = {
		icon = decision_generic_political_discourse
		highlight_states = { highlight_state_targets = { state = 64 } }
		fire_only_once = yes
		
		available = {
			communism > 0.02
		}
		
		cost = 40
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision GER_contact_social_democratic_underground_of_rhineland"
			add_popularity = { ideology = communism popularity = -0.02 }
			add_popularity = { ideology = democratic popularity = 0.04 }
			effect_tooltip = {
				64 = {
					create_unit = {
						division = "name = \"Rote Miliz\" division_template = \"Rote Miliz\" start_experience_factor = 0.3"
						owner = ROOT
						count = 2
						allow_spawning_on_enemy_provs = yes
					}
				}
			}
			hidden_effect = {
				load_oob = GER_social_democratic_underground_of_rhineland
			}
		}
		ai_will_do = {
			factor = 30
		}
	}
	GER_form_social_democratic_militia = {
		icon = decision_generic_political_discourse
		highlight_states = { highlight_state_targets = { state = 59 } }
		fire_only_once = yes
		
		available = {
			communism > 0.01
		}
		
		cost = 40
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): complete decision GER_form_social_democratic_militia"
			add_popularity = { ideology = communism popularity = -0.01 }
			add_popularity = { ideology = democratic popularity = 0.02 }
			effect_tooltip = {
				59 = {
					create_unit = {
						division = "name = \"Rote Miliz\" division_template = \"Rote Miliz\" start_experience_factor = 0.3"
						owner = ROOT
						count = 1
						allow_spawning_on_enemy_provs = yes
					}
				}
			}
			hidden_effect = {
				load_oob = GER_social_democratic_militia
			}
		}
		ai_will_do = {
			factor = 30
		}
	}
}
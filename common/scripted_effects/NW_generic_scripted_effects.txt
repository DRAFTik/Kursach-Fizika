up_state_category = {
	if = {
		limit = {
			OR = {
				has_state_category = wasteland
				has_state_category = tiny_island
				has_state_category = enclave
			}
		}
		set_state_category = pastoral
		add_manpower = 10000
	}
	else_if = {
		limit = {
			OR = {
				has_state_category = small_island
				has_state_category = pastoral
			}
		}
		set_state_category = rural
		add_manpower = 15000
	}
	else_if = {
		limit = {
			has_state_category = rural
		}
		set_state_category = town
		add_manpower = 20000
	}
	else_if = {
		limit = {
			has_state_category = town
		}
		set_state_category = large_town
		add_manpower = 25000
	}
	else_if = {
		limit = {
			has_state_category = large_town
		}
		set_state_category = city
		add_manpower = 35000
	}
	else_if = {
		limit = {
			has_state_category = city
		}
		set_state_category = large_city
		add_manpower = 50000
	}
	else_if = {
		limit = {
			has_state_category = large_city
		}
		set_state_category = metropolis
		add_manpower = 75000
	}
	else_if = {
		limit = {
			has_state_category = metropolis
		}
		set_state_category = megalopolis
		add_manpower = 100000
	}
}

build_civil_factory = {
	if = {
		limit = { check_variable = { total_factory > 1 } }
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 1
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}
		subtract_from_temp_variable = { total_factory = 1 }
		if = {
			limit = { check_variable = { total_factory > 1 } }
			build_civil_factory = yes
		}
	}
}

build_arms_factory = {
	if = {
		limit = { check_variable = { consolidation_empire > 1 } }
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 1
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
		}
		subtract_from_temp_variable = { consolidation_empire = 1 }
		if = {
			limit = { check_variable = { consolidation_empire > 1 } }
			build_arms_factory = yes
		}
	}
}


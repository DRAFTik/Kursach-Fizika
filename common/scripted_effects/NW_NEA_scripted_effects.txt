### NEA ###

NEA_change_idea_by_variable_effect = {
	set_temp_variable = { NEA_popularity_of_the_fascist_revolution_temp_2_var = NEA_popularity_of_the_fascist_revolution_var }
	add_to_temp_variable = { NEA_popularity_of_the_fascist_revolution_temp_2_var = NEA_popularity_of_the_fascist_revolution_temp_var }
	
	if = {
		limit = {
			check_variable = { NEA_popularity_of_the_fascist_revolution_temp_2_var > 24 }
			check_variable = { NEA_popularity_of_the_fascist_revolution_temp_2_var < 51 }
			NOT = { has_idea = low_legitimacy }
		}
		add_ideas = low_legitimacy
	}
	else_if = {
		limit = {
			check_variable = { NEA_popularity_of_the_fascist_revolution_temp_2_var > 50 }
			check_variable = { NEA_popularity_of_the_fascist_revolution_temp_2_var < 76 }
			NOT = { has_idea = normal_legitimacy }
		}
		add_ideas = normal_legitimacy
	}
	else_if = {
		limit = {
			check_variable = { NEA_popularity_of_the_fascist_revolution_temp_2_var > 75 }
			NOT = { has_idea = good_legitimacy }
		}
		add_ideas = good_legitimacy
	}
	else_if = {
		limit = {
			check_variable = { NEA_popularity_of_the_fascist_revolution_temp_2_var < 25 }
			NOT = { has_idea = very_low_legitimacy }
		}
		add_ideas = very_low_legitimacy
	}
}

NEA_war_with_bureaucracy_dyn_effects = {
	set_temp_variable = { NEA_dissatisfaction_of_bureaucracy_2_temp_var = NEA_dissatisfaction_of_bureaucracy_temp_var }
	
	set_temp_variable = { NEA_dissatisfaction_of_bureaucracy_temp_2_var = NEA_dissatisfaction_of_bureaucracy_var }
	multiply_temp_variable = { NEA_dissatisfaction_of_bureaucracy_temp_2_var = -1 }
	set_variable = { NEA_stability_factor_dyn_var = NEA_dissatisfaction_of_bureaucracy_temp_2_var }
	subtract_from_temp_variable = { NEA_dissatisfaction_of_bureaucracy_temp_2_var = NEA_dissatisfaction_of_bureaucracy_temp_var }
	set_temp_variable = { NEA_stability_tt_var = NEA_dissatisfaction_of_bureaucracy_temp_2_var }
	multiply_variable = { NEA_stability_factor_dyn_var = 0.01 }
	
	set_temp_variable = { NEA_dissatisfaction_of_bureaucracy_temp_3_var = NEA_dissatisfaction_of_bureaucracy_var }
	multiply_temp_variable = { NEA_dissatisfaction_of_bureaucracy_temp_3_var = -0.5 }
	set_variable = { NEA_political_power_factor_dyn_var = NEA_dissatisfaction_of_bureaucracy_temp_3_var }
	subtract_from_temp_variable = { NEA_dissatisfaction_of_bureaucracy_temp_3_var = NEA_dissatisfaction_of_bureaucracy_temp_var }
	set_temp_variable = { NEA_political_power_tt_var = NEA_dissatisfaction_of_bureaucracy_temp_3_var }
	multiply_variable = { NEA_political_power_factor_dyn_var = 0.01 }
	
	set_temp_variable = { NEA_dissatisfaction_of_bureaucracy_temp_4_var = NEA_dissatisfaction_of_bureaucracy_2_temp_var }
	multiply_temp_variable = { NEA_dissatisfaction_of_bureaucracy_temp_4_var = 2 }
	add_to_variable = { china_integration_of_province_cost_var = NEA_dissatisfaction_of_bureaucracy_temp_4_var }
	
	add_to_variable = { china_integration_of_province_time_var = NEA_dissatisfaction_of_bureaucracy_2_temp_var }
	
	force_update_dynamic_modifier = yes
	
	custom_effect_tooltip = NEA_war_with_bureaucracy_dyn_effect_tt
}
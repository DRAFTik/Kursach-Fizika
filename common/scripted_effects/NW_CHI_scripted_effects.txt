### CHI ###

CHI_factionalism_of_the_party_effect = {
	
	hidden_effect = {
		clamp_variable = { var = CHI_influence_of_the_cc_clique_var min = 0 max = 100 }
		clamp_variable = { var = CHI_influence_of_vampire_clique_var min = 0 max = 100 }
		clamp_variable = { var = CHI_influence_of_the_political_research_clique_var min = 0 max = 100 }
		
		set_temp_variable = { CHI_influence_of_the_cc_clique_var_temp = CHI_influence_of_the_cc_clique_var }
		set_temp_variable = { CHI_influence_of_vampire_clique_var_temp = CHI_influence_of_vampire_clique_var }
		set_temp_variable = { CHI_influence_of_the_political_research_clique_var_temp = CHI_influence_of_the_political_research_clique_var }
		
		divide_temp_variable = { CHI_influence_of_vampire_clique_var_temp = 100 }
		
		divide_temp_variable = { CHI_influence_of_the_political_research_clique_var_temp = 100 }
		divide_temp_variable = { CHI_influence_of_the_cc_clique_var_temp = -200 }
		
		set_variable = { CHI_political_power_factor_var = CHI_influence_of_the_cc_clique_var_temp }
		set_variable = { CHI_political_power_gain_var = CHI_influence_of_the_political_research_clique_var_temp }
		set_variable = { CHI_command_power_gain_mult_var = CHI_influence_of_vampire_clique_var_temp }
		
		multiply_temp_variable = { CHI_influence_of_the_cc_clique_var_temp = -2 }
		divide_temp_variable = { CHI_influence_of_the_cc_clique_var_temp = 10 }
		
		set_variable = { CHI_neutrality_drift_var = CHI_influence_of_the_cc_clique_var_temp }
		
		force_update_dynamic_modifier = yes
	}
}

CHI_factionalism_of_the_army_effect = {
	
	hidden_effect = {
		clamp_variable = { var = CHI_influence_of_he_yingqin_var min = 0 max = 40 }
		clamp_variable = { var = CHI_influence_of_hu_zongnan_var min = 0 max = 40 }
		clamp_variable = { var = CHI_influence_of_chen_cheng_var min = 0 max = 40 }
		clamp_variable = { var = CHI_influence_of_tu_yuming_var min = 0 max = 40 }
	}
}

CHI_corruption_effect = {
	
	hidden_effect = {
		clamp_variable = { var = CHI_corruption_var min = 0 max = 100 }
		
		set_temp_variable = { CHI_corruption_var_temp = CHI_corruption_var }
		divide_temp_variable = { CHI_corruption_var_temp = -100 }
		set_variable = { CHI_political_power_factor_var_3 = CHI_corruption_var_temp }
		set_variable = { CHI_industrial_capacity_factory_var_2 = CHI_corruption_var_temp }
		set_variable = { CHI_industrial_capacity_dockyard_var_2 = CHI_corruption_var_temp }
		set_variable = { CHI_land_reinforce_rate_var_2 = CHI_corruption_var_temp }
		divide_temp_variable = { CHI_corruption_var_temp = 2 }
		set_variable = { CHI_stability_factor_var_2 = CHI_corruption_var_temp }
		set_variable = { CHI_war_support_factor_var_2 = CHI_corruption_var_temp }
		divide_temp_variable = { CHI_corruption_var_temp = 5 }
		set_variable = { CHI_army_org_factor_var_2 = CHI_corruption_var_temp }
		
		force_update_dynamic_modifier = yes
	}
}

CHI_discreet_club_effect = {
	
	hidden_effect = {
		clamp_variable = { var = CHI_discreet_club_var min = 0 max = 10 }
		
		set_temp_variable = { CHI_discreet_club_var_temp = CHI_discreet_club_var }
		divide_temp_variable = { CHI_discreet_club_var_temp = -100 }
		multiply_temp_variable = { CHI_discreet_club_var_temp = 3 }
		set_variable = { CHI_political_power_factor_var_4 = CHI_discreet_club_var_temp }
		set_variable = { CHI_war_support_factor_var_3 = CHI_discreet_club_var_temp }
		divide_temp_variable = { CHI_discreet_club_var_temp = -1 }
		set_variable = { CHI_opinion_gain_monthly_factor_var = CHI_discreet_club_var_temp }
		
		force_update_dynamic_modifier = yes
	}
}

CHI_inflation_rise_effect = {

	if = {
		limit = { has_idea = CHI_hyperinflation_idea }
		add_political_power = -150
	}
	else_if = {
		limit = { has_idea = CHI_high_inflation_idea }
		swap_ideas = {
			remove_idea = CHI_high_inflation_idea
			add_idea = CHI_hyperinflation_idea
		}
	}
	else_if = {
		limit = { has_idea = CHI_increased_inflation_idea }
		swap_ideas = {
			remove_idea = CHI_increased_inflation_idea
			add_idea = CHI_high_inflation_idea
		}
	}
	else_if = {
		limit = { has_idea = CHI_normal_inflation_idea }
		swap_ideas = {
			remove_idea = CHI_normal_inflation_idea
			add_idea = CHI_increased_inflation_idea
		}
	}
	else = {
		add_ideas = CHI_normal_inflation_idea
	}
}

CHI_inflation_down_effect = {

	if = {
		limit = { has_idea = CHI_hyperinflation_idea }
		swap_ideas = {
			remove_idea = CHI_hyperinflation_idea
			add_idea = CHI_high_inflation_idea
		}
	}
	else_if = {
		limit = { has_idea = CHI_high_inflation_idea }
		swap_ideas = {
			remove_idea = CHI_high_inflation_idea
			add_idea = CHI_increased_inflation_idea
		}
	}
	else_if = {
		limit = { has_idea = CHI_increased_inflation_idea }
		swap_ideas = {
			remove_idea = CHI_increased_inflation_idea
			add_idea = CHI_normal_inflation_idea
		}
	}
	else_if = {
		limit = { has_idea = CHI_normal_inflation_idea }
		remove_ideas = CHI_normal_inflation_idea
	}
}

CHI_unity_of_the_party_effect = {
	
	hidden_effect = {
		clamp_variable = { var = CHI_unity_of_the_party_var min = 0 max = 100 }
		
		set_temp_variable = { CHI_temp_1 = 80 }
		set_temp_variable = { CHI_unity_of_the_party_var_temp = CHI_unity_of_the_party_var }
		subtract_from_temp_variable = { CHI_temp_1 = CHI_unity_of_the_party_var_temp }
		divide_temp_variable = { CHI_temp_1 = -100 }
		set_variable = { CHI_stability_factor_var = CHI_temp_1 }
		set_variable = { CHI_war_support_factor_var = CHI_temp_1 }
		force_update_dynamic_modifier = yes
	}
}

CHI_movement_for_a_new_life_effect = {
	
	hidden_effect = {
		clamp_variable = { var = CHI_movement_for_a_new_life_var min = 0 max = 2000000 }
		if = {
			limit = {
				check_variable = { CHI_movement_for_a_new_life_var > 1999999 }
				NOT = { has_country_flag = NW_CHI_event_0_BLOCK_flag }
			}
			set_country_flag = NW_CHI_event_0_BLOCK_flag
			country_event = NW_CHI.0
		}
		else_if = {
			limit = {
				check_variable = { CHI_movement_for_a_new_life_var > 1749999 }
				NOT = { has_country_flag = NW_CHI_event_1_BLOCK_flag }
			}
			set_country_flag = NW_CHI_event_1_BLOCK_flag
			country_event = NW_CHI.1
		}
		else_if = {
			limit = {
				check_variable = { CHI_movement_for_a_new_life_var > 1499999 }
				NOT = { has_country_flag = NW_CHI_event_2_BLOCK_flag }
			}
			set_country_flag = NW_CHI_event_2_BLOCK_flag
			country_event = NW_CHI.2
		}
		else_if = {
			limit = {
				check_variable = { CHI_movement_for_a_new_life_var > 1199999 }
				NOT = { has_country_flag = NW_CHI_event_3_BLOCK_flag }
			}
			set_country_flag = NW_CHI_event_3_BLOCK_flag
			country_event = NW_CHI.3
		}
		else_if = {
			limit = {
				check_variable = { CHI_movement_for_a_new_life_var > 899999 }
				NOT = { has_country_flag = NW_CHI_event_4_BLOCK_flag }
			}
			set_country_flag = NW_CHI_event_4_BLOCK_flag
			country_event = NW_CHI.4
		}
		else_if = {
			limit = {
				check_variable = { CHI_movement_for_a_new_life_var > 599999 }
				NOT = { has_country_flag = NW_CHI_event_5_BLOCK_flag }
			}
			set_country_flag = NW_CHI_event_5_BLOCK_flag
			country_event = NW_CHI.5
		}
	}
}
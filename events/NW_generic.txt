###########################
# NWgeneric
###########################

add_namespace = NWgeneric

#Экономические связи с метрополией // субъект
country_event = {
	id = NWgeneric.1
	title = NWgeneric.1.t
	desc = NWgeneric.1.desc
	picture = GFX_report_event_generic_factory
	
	trigger = {
		has_idea = industrial_base
		is_subject = yes
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWgeneric.1" }
	
	mean_time_to_happen = { months = 6 }
	
	option = {
		name = NWgeneric.1.a
		effect_tooltip = {
			OVERLORD = {
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
		}
		hidden_effect = {
			OVERLORD = { country_event = { id = NWgeneric.2 } }
		}
	}
}

#Экономические связи с метрополией // OVERLORD
country_event = {
	id = NWgeneric.2
	title = NWgeneric.2.t
	desc = NWgeneric.2.desc
	picture = GFX_report_event_generic_factory
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWgeneric.2" }
	
	option = {
		name = NWgeneric.2.a
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
	}
}

#Военные связи с метрополией // субъект
country_event = {
	id = NWgeneric.3
	title = NWgeneric.3.t
	desc = NWgeneric.3.desc
	picture = GFX_report_event_saf_soldiers_2
	
	trigger = {
		has_idea = military_affairs
		is_subject = yes
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWgeneric.3" }
	
	mean_time_to_happen = { months = 6 }
	
	option = {
		name = NWgeneric.3.a
		effect_tooltip = {
			OVERLORD = {
				add_manpower = 10000
			}
		}
		hidden_effect = {
			OVERLORD = { country_event = { id = NWgeneric.4 } }
		}
	}
}

#Экономические связи с метрополией // OVERLORD
country_event = {
	id = NWgeneric.4
	title = NWgeneric.4.t
	desc = NWgeneric.4.desc
	picture = GFX_report_event_saf_soldiers_2
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWgeneric.4" }
	
	option = {
		name = NWgeneric.4.a
		add_manpower = 10000
	}
}

#Субъект проводит своевольную политику // OVERLORD
country_event = {
	id = NWgeneric.5
	title = NWgeneric.5.t
	desc = NWgeneric.5.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWgeneric.5" }
	
	option = {
		name = NWgeneric.5.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 3
				FROM = { NOT = { has_completed_focus = seek_support } }
			}
		}
		log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event choosen NWgeneric.5.a"
		if = {
			limit = { FROM = { has_completed_focus = seek_support } }
			FROM = { set_country_flag = start_seek_support_flag }
		}
	}
	
	option = {
		name = NWgeneric.5.b
		ai_chance = {
			factor = 50
		}
		log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event choosen NWgeneric.5.b"
		FROM = {
			country_event = { id = NWgeneric.6 days = 1 }
			set_country_flag = NWgeneric5b_flag
		}
		custom_effect_tooltip = NWgeneric5b_tt
	}
	
	option = {
		name = NWgeneric.5.c
		ai_chance = {
			factor = 50
		}
		log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event choosen NWgeneric.5.c"
		FROM = {
			country_event = { id = NWgeneric.6 days = 1 }
			set_country_flag = NWgeneric5c_flag
		}
		custom_effect_tooltip = NWgeneric5c_tt
	}
}

#Требование прекратить своевольную политику // SUBJECT
country_event = {
	id = NWgeneric.6
	title = NWgeneric.6.t
	desc = NWgeneric.6.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWgeneric.6" }
	
	option = {
		name = NWgeneric.6.a
		ai_chance = {
			factor = 50
		}
		log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event choosen NWgeneric.6.a"
		if = {
			limit = { NOT = { has_completed_focus = seek_support } }
			OVERLORD = {
				set_autonomy = {
					target = ROOT
					autonomy_state = autonomy_free
				}
			}
			if = {
				limit = { is_in_faction = yes }
				leave_faction = yes
				add_ai_strategy = {
					type = alliance
					id = FROM		
					value = -1000
				}
				FROM = {
					add_ai_strategy = {
						type = alliance
						id = ROOT		
						value = -1000
					}
				}
			}
			if = {
				limit = { has_war = yes }
				custom_effect_tooltip = root_out_of_all_war_tt
				hidden_effect = {
					every_enemy_country = {
						limit = {
							is_subject = no
							OR = { is_faction_leader = yes is_in_faction = no }
							NOT = {
								any_state = {
									is_owned_by = ROOT
									OR = {
										is_claimed_by = PREV
										is_core_of = PREV
									}
								}
								any_state = {
									is_owned_by = PREV
									OR = {
										is_claimed_by = ROOT
										is_core_of = ROOT
									}
								}
							}
						}
						white_peace = ROOT
					}
				}
			}
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}
		else = { set_country_flag = start_seek_support_flag }
	}
	
	option = {
		name = NWgeneric.6.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				has_completed_focus = seek_support
			}
		}
		trigger = { has_country_flag = NWgeneric5b_flag }
		log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event choosen NWgeneric.6.b"
		clr_country_flag = NWgeneric5b_flag
		if = {
			limit = { has_autonomy_state = autonomy_colony }
			OVERLORD = {
				set_autonomy = {
					target = ROOT
					autonomy_state = autonomy_puppet
				}
			}
		}
		else_if = {
			limit = { has_autonomy_state = autonomy_puppet }
			OVERLORD = {
				set_autonomy = {
					target = ROOT
					autonomy_state = autonomy_integrated_puppet
				}
			}
		}
		else_if = {
			limit = { has_autonomy_state = autonomy_integrated_puppet }
			OVERLORD = {
				set_autonomy = {
					target = ROOT
					autonomy_state = autonomy_supervised_state
				}
			}
		}
		else_if = {
			limit = { has_autonomy_state = autonomy_satellite }
			OVERLORD = {
				set_autonomy = {
					target = ROOT
					autonomy_state = autonomy_reichsprotectorate
				}
			}
		}
		else_if = {
			limit = { has_autonomy_state = autonomy_reichsprotectorate }
			OVERLORD = {
				set_autonomy = {
					target = ROOT
					autonomy_state = autonomy_reichskommissariat
				}
			}
		}
		else_if = {
			limit = { has_autonomy_state = autonomy_condominium }
			OVERLORD = {
				set_autonomy = {
					target = ROOT
					autonomy_state = autonomy_broresp
				}
			}
		}
		else_if = {
			limit = { has_autonomy_state = autonomy_broresp }
			OVERLORD = {
				set_autonomy = {
					target = ROOT
					autonomy_state = autonomy_socprotect
				}
			}
		}
		else_if = {
			limit = { has_autonomy_state = autonomy_socprotect }
			OVERLORD = {
				set_autonomy = {
					target = ROOT
					autonomy_state = autonomy_marionet
				}
			}
		}
		else_if = {
			limit = {
				OR = {
					has_autonomy_state = autonomy_reichskommissariat
					has_autonomy_state = autonomy_marionet
					has_autonomy_state = autonomy_supervised_state
				}
			}
			add_autonomy_score = {
				value = -100
			}
		}
	}
	
	option = {
		name = NWgeneric.6.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				has_completed_focus = seek_support
			}
		}
		trigger = { has_country_flag = NWgeneric5c_flag }
		log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event choosen NWgeneric.6.c"
		clr_country_flag = NWgeneric5c_flag
		OVERLORD = {
			set_autonomy = {
				target = ROOT
				autonomy_state = autonomy_dominion
			}
		}
		set_country_flag = autonomy_NWgeneric6_adopt
		custom_effect_tooltip = autonomy_NWgeneric6_adopt_tt
	}
}

#Субъект требует независимости // OVERLORD
country_event = {
	id = NWgeneric.7
	title = NWgeneric.7.t
	desc = NWgeneric.7.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWgeneric.7" }
	
	option = {
		name = NWgeneric.7.a
		ai_chance = {
			factor = 50
		}
		log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event choosen NWgeneric.7.a"
		set_autonomy = {
			target = FROM
			autonomy_state = autonomy_free
		}
		FROM = {
			if = {
				limit = { is_in_faction = yes }
				leave_faction = yes
			}
			clear_gem_flag = yes
		}
		if = {
			limit = { FROM = { has_war = yes } }
			custom_effect_tooltip = from_out_of_all_war_tt
			hidden_effect = {
				FROM = {
					every_enemy_country = {
						limit = {
							is_subject = no
							OR = { is_faction_leader = yes is_in_faction = no }
							NOT = {
								any_state = {
									is_owned_by = FROM
									OR = {
										is_claimed_by = PREV
										is_core_of = PREV
									}
								}
								any_state = {
									is_owned_by = PREV
									OR = {
										is_claimed_by = FROM
										is_core_of = FROM
									}
								}
							}
						}
						white_peace = PREV
					}
				}
			}
		}
	}
	
	option = {
		name = NWgeneric.7.b
		ai_chance = {
			factor = 50
		}
		log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event choosen NWgeneric.7.b"
		set_autonomy = {
			target = FROM
			autonomy_state = autonomy_free
		}
		FROM = {
			if = {
				limit = { is_in_faction = yes }
				leave_faction = yes
			}
			clear_gem_flag = yes
		}
		declare_war_on = {
			target = FROM
			type = annex_everything
		}
		if = {
			limit = { FROM = { has_war = yes } }
			custom_effect_tooltip = from_out_of_all_war_tt
			hidden_effect = {
				FROM = {
					every_enemy_country = {
						limit = {
							is_subject = no
							OR = { is_faction_leader = yes is_in_faction = no }
							NOT = {
								any_state = {
									is_owned_by = FROM
									OR = {
										is_claimed_by = PREV
										is_core_of = PREV
									}
								}
								any_state = {
									is_owned_by = PREV
									OR = {
										is_claimed_by = FROM
										is_core_of = FROM
									}
								}
							}
						}
						white_peace = PREV
					}
				}
			}
		}
	}
}

#Другой субъект призывает к борьбе за независимость // SUBJECT
country_event = {
	id = NWgeneric.8
	title = NWgeneric.8.t
	desc = NWgeneric.8.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWgeneric.8" }
	
	option = {
		name = NWgeneric.8.a
		ai_chance = {
			factor = 30
			modifier = {
				add = 40
				FROM = { is_ai = no }
			}
		}
		log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event choosen NWgeneric.8.a"
		set_country_flag = accept_call_to_fight_for_independence
		add_to_array = { FROM.country_array = this }
		custom_effect_tooltip = accept_call_to_fight_for_independence_tt
	}
	
	option = {
		name = NWgeneric.8.b
		ai_chance = {
			factor = 70
		}
		log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event choosen NWgeneric.8.b"
		set_country_flag = declane_call_to_fight_for_independence
	}
}

#Ультиматум метрополии // OVERLORD
country_event = {
	id = NWgeneric.9
	title = NWgeneric.9.t
	desc = NWgeneric.9.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWgeneric.9" }
	
	option = {
		name = NWgeneric.9.a
		ai_chance = {
			factor = 40
		}
		log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event choosen NWgeneric.9.a"
		set_autonomy = {
			target = FROM
			autonomy_state = autonomy_free
		}
		FROM = {
			if = {
				limit = { is_in_faction = yes }
				leave_faction = yes
			}
			clear_gem_flag = yes
		}
		if = {
			limit = { FROM = { has_war = yes } }
			custom_effect_tooltip = from_out_of_all_war_tt
			hidden_effect = {
				FROM = {
					every_enemy_country = {
						limit = {
							is_subject = no
							OR = { is_faction_leader = yes is_in_faction = no }
							NOT = {
								any_state = {
									is_owned_by = FROM
									OR = {
										is_claimed_by = PREV
										is_core_of = PREV
									}
								}
								any_state = {
									is_owned_by = PREV
									OR = {
										is_claimed_by = FROM
										is_core_of = FROM
									}
								}
							}
						}
						white_peace = PREV
					}
				}
			}
		}
		declare_war_on = {
			target = FROM
			type = annex_everything
		}
		hidden_effect = {
			every_other_country = {
				limit = {
					NOT = { tag = FROM }
					is_subject_of = ROOT
					has_country_flag = accept_call_to_fight_for_independence
				}
				OVERLORD = {
					set_autonomy = {
						target = PREV
						autonomy_state = autonomy_free
					}
				}
				clear_gem_flag = yes
				if = {
					limit = { is_in_faction = yes }
					leave_faction = yes
				}
				if = {
					limit = { has_war = yes }
					every_enemy_country = {
						limit = {
							is_subject = no
							OR = { is_faction_leader = yes is_in_faction = no }
						}
						white_peace = PREV
					}
				}
				add_to_war = {
					targeted_alliance = FROM
					enemy = ROOT 
					hostility_reason = asked_to_join
				}
			}
			every_country = {
				limit = {
					is_subject_of = ROOT
				}
				clr_country_flag = declane_call_to_fight_for_independence
			}
		}
		FROM = {
			clear_array = country_array
			clr_country_flag = start_seek_support_flag
		}
	}
	
	option = {
		name = NWgeneric.9.b
		ai_chance = {
			factor = 60
		}
		log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event choosen NWgeneric.9.b"
		set_autonomy = {
			target = FROM
			autonomy_state = autonomy_free
		}
		FROM = {
			if = {
				limit = { is_in_faction = yes }
				leave_faction = yes
			}
			clear_gem_flag = yes
			diplomatic_relation = {
				country = ROOT
				relation = non_aggression_pact
				active = yes
			}
		}
		diplomatic_relation = {
			country = FROM
			relation = non_aggression_pact
			active = yes
		}
		hidden_effect = {
			every_country = {
				limit = {
					is_subject_of = ROOT
				}
				clr_country_flag = accept_call_to_fight_for_independence
				clr_country_flag = declane_call_to_fight_for_independence
			}
		}
		if = {
			limit = { FROM = { has_war = yes } }
			custom_effect_tooltip = from_out_of_all_war_tt
			hidden_effect = {
				FROM = {
					every_enemy_country = {
						limit = {
							is_subject = no
							OR = { is_faction_leader = yes is_in_faction = no }
							NOT = {
								any_state = {
									is_owned_by = FROM
									OR = {
										is_claimed_by = PREV
										is_core_of = PREV
									}
								}
								any_state = {
									is_owned_by = PREV
									OR = {
										is_claimed_by = FROM
										is_core_of = FROM
									}
								}
							}
						}
						white_peace = PREV
					}
				}
			}
		}
		FROM = {
			clear_array = country_array
			clr_country_flag = start_seek_support_flag
		}
	}
}


#### РЕШЕНИЯ ####

#Правительство from организовало гражданскую войну
country_event = {
	id = NWgeneric.10
	title = NWgeneric.10.t
	desc = NWgeneric.10.desc
	picture = GFX_report_event_crowd_in_prague
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWgeneric.10 from [From.GetName] ([From.GetTag])" }
	
	option = {
		name = NWgeneric.10.a
		add_opinion_modifier = { target = FROM modifier = generic_start_civil_war_op2 }
		FROM = { add_opinion_modifier = { target = ROOT modifier = generic_start_civil_war_op2 } }
	}
}

#Война кажется безнадёжной // осколок
country_event = {
	id = NWgeneric.11
	title = NWgeneric.11.t
	desc = NWgeneric.11.desc
	picture = GFX_report_event_chinese_soldiers_city_ruin
	
	trigger = {
		NOT = { has_country_flag = shard_call_to_help_flag }
		has_civil_war = yes
		any_other_country = {
			has_country_flag = flag_is_revolter_of_shard_@ROOT
			NOT = {
				is_in_faction_with = ROOT
				has_war_with = ROOT
				has_war_together_with = ROOT
			}
		}
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWgeneric.11" }
	immediate = {
		hidden_effect = {
			set_country_flag = shard_call_to_help_flag
			random_other_country = {
				limit = {
					has_country_flag = flag_is_revolter_of_shard_@ROOT
				}
				save_event_target_as = is_revolter_of_shard_@ROOT
			}
		}
	}
	
	#mean_time_to_happen = { months = 3 }
	mean_time_to_happen = { days = 0 }
	
	option = {
		name = NWgeneric.11.a
		ai_chance = {
			factor = 90
		}
		event_target:is_revolter_of_shard_@ROOT = {
			country_event = { id = NWgeneric.12 days = 1 }
		}
	}
	
	option = {
		name = NWgeneric.11.b
		ai_chance = {
			factor = 0
		}
	}
}

#From запрашивает помощь // инициатор
country_event = {
	id = NWgeneric.12
	title = NWgeneric.12.t
	desc = NWgeneric.12.desc
	picture = GFX_report_event_bulgarian_soldiers
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWgeneric.12 from [From.GetName] ([From.GetTag])" }
	immediate = {
		hidden_effect = {
			random_other_country = {
				limit = {
					has_country_flag = flag_revolter_of_base_is_@ROOT
				}
				save_event_target_as = revolter_of_base_is_@ROOT
			}
		}
	}

	option = {
		name = NWgeneric.12.a
		ai_chance = {
			factor = 90
		}
		declare_war_on = {
			target = event_target:revolter_of_base_is_@ROOT
			type = annex_everything
		}
	}
	
	option = {
		name = NWgeneric.12.b
		ai_chance = {
			factor = 10
		}
		add_ai_strategy = {
			type = alliance
			id = FROM		
			value = -100
		}
		add_ai_strategy = {
			type = protect
			id = FROM		
			value = -100
		}
		add_ai_strategy = {
			type = send_volunteers_desire
			id = FROM		
			value = -75
		}
		remove_opinion_modifier = { target = FROM modifier = generic_start_civil_war_op }
		FROM = {
			remove_opinion_modifier = { target = ROOT modifier = generic_start_civil_war_op }
			add_opinion_modifier = { target = ROOT modifier = generic_no_support_in_civil_war_op }
			add_ai_strategy = {
				type = befriend
				id = ROOT
				value = -150
			}
			add_ai_strategy = {
				type = alliance
				id = ROOT		
				value = -300
			}
		}
	}
}

#Государство должно заплатить за свои преступления // выжившая цель
country_event = {
	id = NWgeneric.13
	title = NWgeneric.13.t
	desc = NWgeneric.13.desc
	picture = GFX_report_event_communist_leader
	
	trigger = {
		has_civil_war = no
		any_other_country = {
			has_country_flag = flag_is_revolter_of_base_@ROOT
			NOT = {
				is_in_faction_with = ROOT
				has_war_with = ROOT
			}
			ROOT = { has_country_flag = flag_revolter_of_base_is_@PREV }
		}
		NOT = { has_country_flag = has_chance_revenge_flag }
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWgeneric.13" }
	immediate = {
		hidden_effect = {
			set_country_flag = has_chance_revenge_flag
			random_other_country = {
				limit = {
					has_country_flag = flag_is_revolter_of_base_@ROOT
				}
				save_event_target_as = target_to_revenge_from_@ROOT
			}
		}
	}
	
	mean_time_to_happen = { days = 10 }
	
	option = {
		name = NWgeneric.13.a
		ai_chance = {
			factor = 90
		}
		create_wargoal = {
			type = annex_everything
			target = event_target:target_to_revenge_from_@ROOT
		}
		add_ai_strategy = {
			type = antagonize
			id = event_target:target_to_revenge_from_@ROOT
			value = 100
		}
		add_ai_strategy = {
			type = conquer
			id = event_target:target_to_revenge_from_@ROOT
			value = 100
		}
	}
	
	option = {
		name = NWgeneric.13.b
		ai_chance = {
			factor = 10
		}
	}
}



#Анархист приглашает в альянс
country_event = {
	id = NWgeneric.14
	title = NWgeneric.14.t
	desc = NWgeneric.14.desc
	picture = GFX_report_event_generic_read_write
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWgeneric.14" }
	
	option = {
		name = NWgeneric.14.a
		ai_chance = {
			factor = 50
			modifier = {
				add = 20
				FROM = { original_tag = ETH }
				has_country_flag = anarchism_neutrality_flag
			}
			modifier = {
				factor = 10
				FROM = {
					NOT = { original_tag = ETH }
					has_country_flag = anarchism_neutrality_flag
				}
				has_country_flag = anarchism_neutrality_flag
			}
			modifier = {
				factor = 10
				FROM = {
					NOT = { original_tag = ETH }
					has_country_flag = anarchism_left_flag
				}
				has_country_flag = anarchism_left_flag
			}
			modifier = {
				factor = 10
				FROM = {
					NOT = { original_tag = ETH }
					has_country_flag = anarchism_right_flag
				}
				has_country_flag = anarchism_right_flag
			}
		}
		FROM = {
			add_to_faction = ROOT
			country_event = { id = generic.6 hours = 6 } 
		}
	}
	
	option = {
		name = NWgeneric.14.b
		ai_chance = {
			factor = 50
			modifier = {
				add = -20
				FROM = { original_tag = ETH }
				has_country_flag = anarchism_neutrality_flag
			}
		}
		FROM = { country_event = { id = generic.7 hours = 6 } }
	}
}

#Первомайская демонстрация пульсар
country_event = {
	id = NWgeneric.15
	is_triggered_only = yes
	hidden = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWgeneric.15" }

	option = {
		every_country = {
			limit = {
				has_war = no
				OR = {
					has_government = communism
					has_government = trozkism
					has_government = anarchism
				}
			}
			country_event = { id = NWgeneric.16 }
		}
		random_country = {
			country_event = { id = NWgeneric.15 months = 12 }
		}
	}
}

#Первомайская демонстрация
country_event = {
	id = NWgeneric.16
	title = NWgeneric.16.t
	desc = NWgeneric.16.desc
	picture = GFX_report_event_generic_rally2
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWgeneric.16" }

	option = {
		name = NWgeneric.16.a
		ai_chance = {
			factor = 1
		}
		add_stability = 0.02
	}
	
	option = {
		name = NWgeneric.16.b
		ai_chance = {
			factor = 99
			modifier = {
				factor = 0
				has_stability > 0.979
			}
		}
		add_stability = 0.04
		add_political_power = -10
	}
}


#FROM – требование территорий // алли альянс
country_event = {
	id = NWgeneric.17
	title = NWgeneric.17.t
	desc = NWgeneric.17.desc
	picture = GFX_report_event_military_planning
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWgeneric.17" }
	
	option = {
		name = NWgeneric.17.a
		ai_chance = {
			factor = 75
			modifier = {
				factor = 0
				has_government = communism
				FROM = {
					OR = {
						has_government = fascism
						has_government = monarchy
						has_government = trozkism
						has_government = anarchism
					}
				}
			}
			modifier = {
				factor = 0
				has_government = trozkism
				FROM = {
					OR = {
						has_government = fascism
						has_government = monarchy
						has_government = communism
						has_government = anarchism
					}
				}
			}
			modifier = {
				factor = 0
				has_government = fascism
				FROM = {
					NOT = {
						has_government = fascism
						has_government = monarchy
						has_government = neutrality
					}
				}
			}
			modifier = {
				factor = 0
				has_government = anarchism
				FROM = { NOT = { has_government = anarchism } }
			}
		}
		every_state = {
			limit = {
				OR = {
					is_core_of = FROM
					is_claimed_by = FROM
				}
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
			remove_core_of = ROOT
			remove_claim_by = ROOT
			FROM = { transfer_state = PREV }
		}
	}
	
	option = {
		name = NWgeneric.17.b
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				FROM = { has_government = ROOT }
			}
			modifier = {
				factor = 0
				FROM = { is_ai = no }
			}
		}
		FROM = { country_event = { id = NWgeneric.18 hours = 6 } }
	}
}

#FROM – отказ возвращать наши территории // требователь
country_event = {
	id = NWgeneric.18
	title = NWgeneric.18.t
	desc = NWgeneric.18.desc
	picture = GFX_report_event_military_planning
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWgeneric.18" }
	
	option = {
		name = NWgeneric.18.a
		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				has_government = communism
				FROM = {
					OR = {
						has_government = fascism
						has_government = monarchy
						has_government = trozkism
						has_government = anarchism
					}
				}
			}
			modifier = {
				factor = 2
				has_government = trozkism
				FROM = {
					OR = {
						has_government = fascism
						has_government = monarchy
						has_government = communism
						has_government = anarchism
					}
				}
			}
			modifier = {
				factor = 2
				has_government = fascism
				FROM = {
					NOT = {
						has_government = fascism
						has_government = monarchy
						has_government = neutrality
					}
				}
			}
			modifier = {
				factor = 2
				has_government = anarchism
				FROM = { NOT = { has_government = anarchism } }
			}
		}
		trigger = { is_faction_leader = yes }
		add_ai_strategy = {
			type = alliance
			id = FROM		
			value = -1000
		}
		FROM = {
			leave_faction = yes
			add_ai_strategy = {
				type = alliance
				id = ROOT		
				value = -1000
			}
			set_country_flag = { flag = outcast_@ROOT days = 1 value = 1 }
		}
		custom_effect_tooltip = NWgeneric_18a_tt
		hidden_effect = {
			every_other_country = {
				country_event = { id = NWgeneric.19 hours = 6 }
			}
		}
	}
	
	option = {
		name = NWgeneric.18.b
		ai_chance = {
			factor = 25
		}
		trigger = { is_faction_leader = no }
		hidden_effect = {
			FROM = {
				set_country_flag = { flag = call_canceler_@ROOT days = 1 value = 1 }
			}
		}
		random_other_country = {
			limit = {
				is_in_faction_with = ROOT
				is_faction_leader = yes
			}
			country_event = { id = NWgeneric.20 hours = 6 }
		}
	}
	
	option = {
		name = NWgeneric.18.c
		ai_chance = {
			factor = 50
			modifier = {
				factor = 10
				FROM = { has_government = ROOT }
			}
		}
	}
}

#FROM – исключение из альянса // Члены альянсов
country_event = {
	id = NWgeneric.19
	title = NWgeneric.19.t
	desc = NWgeneric.19.desc
	picture = GFX_report_event_military_planning
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWgeneric.19" }
	immediate = {
		random_other_country = {
			limit = {
				has_country_flag = outcast_@FROM
			}
			save_event_target_as = is_outcast_by_@FROM	#Держава
		}
	}
	
	option = {
		name = NWgeneric.19.a
		ai_chance = {
			factor = 90
		}
	}
	
	option = {
		name = NWgeneric.19.b
		ai_chance = {
			factor = 10
		}
		leave_faction = yes
		add_ai_strategy = {
			type = alliance
			id = FROM		
			value = -1000
		}
		ROOT = {
			add_ai_strategy = {
				type = alliance
				id = FROM		
				value = -1000
			}
		}
		add_opinion_modifier = { target = FROM modifier = diplomatic_protest_op }
		FROM = { add_opinion_modifier = { target = ROOT modifier = diplomatic_protest_op } }
		add_opinion_modifier = { target = event_target:is_outcast_by_@FROM modifier = diplomatic_protest_op2 }
		event_target:is_outcast_by_@FROM = { add_opinion_modifier = { target = ROOT modifier = diplomatic_protest_op2 } }
	}
}

#[Страна] и [Держава] – территориальный спор // лидер альянса
country_event = {
	id = NWgeneric.20
	title = NWgeneric.20.t
	desc = NWgeneric.20.desc
	picture = GFX_report_event_military_planning
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWgeneric.20" }
	immediate = {
		random_other_country = {
			limit = {
				has_country_flag = call_canceler_@FROM
			}
			save_event_target_as = is_call_canceler_by_@FROM	#Держава
		}
	}
	
	option = {
		name = NWgeneric.20.a
		ai_chance = {
			factor = 50
		}
		event_target:is_call_canceler_by_@FROM = { country_event = { id = NWgeneric.21 hours = 6 } }
		FROM = { set_country_flag = { flag = demender_@ROOT days = 1 value = 1 } }
	}
	
	option = {
		name = NWgeneric.20.b
		ai_chance = {
			factor = 50
		}
		FROM = { country_event = { id = NWgeneric.22 hours = 6 } }
	}
}

#[Лидер альянса] – требование вернуть [прилагательное Страны] территории // Держава
country_event = {
	id = NWgeneric.21
	title = NWgeneric.21.t
	desc = NWgeneric.21.desc
	picture = GFX_report_event_military_planning
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWgeneric.21" }
	immediate = {
		random_other_country = {
			limit = {
				has_country_flag = demender_@FROM
			}
			save_event_target_as = is_demender_by_@FROM	#Страна
		}
	}
	
	option = {
		name = NWgeneric.21.a
		ai_chance = {
			factor = 10
		}
		leave_faction = yes
		add_ai_strategy = {
			type = alliance
			id = FROM		
			value = -1000
		}
		ROOT = {
			add_ai_strategy = {
				type = alliance
				id = FROM		
				value = -1000
			}
		}
		add_opinion_modifier = { target = FROM modifier = diplomatic_protest_op }
		FROM = { add_opinion_modifier = { target = ROOT modifier = diplomatic_protest_op } }
	}
	
	option = {
		name = NWgeneric.21.b
		ai_chance = {
			factor = 90
		}
		every_state = {
			limit = {
				OR = {
					is_core_of = event_target:is_demender_by_@FROM
					is_claimed_by = event_target:is_demender_by_@FROM
				}
				owner = {
					OR = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
			remove_core_of = ROOT
			remove_claim_by = ROOT
			event_target:is_demender_by_@FROM = { transfer_state = PREV }
		}
	}
}

#[Лидер альянса] – отказ нас поддержать // Страна
country_event = {
	id = NWgeneric.22
	title = NWgeneric.22.t
	desc = NWgeneric.22.desc
	picture = GFX_report_event_military_planning
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWgeneric.22" }
	immediate = {
		random_other_country = {
			limit = {
				has_country_flag = demender_@FROM
			}
			save_event_target_as = is_demender_by_@FROM	#Страна
		}
	}
	
	option = {
		name = NWgeneric.22.a
		ai_chance = {
			factor = 10
		}
		leave_faction = yes
		add_ai_strategy = {
			type = alliance
			id = FROM		
			value = -1000
		}
		FROM = {
			add_ai_strategy = {
				type = alliance
				id = FROM		
				value = -1000
			}
		}
		add_opinion_modifier = { target = FROM modifier = diplomatic_protest_op }
		FROM = { add_opinion_modifier = { target = ROOT modifier = diplomatic_protest_op } }
	}
	
	option = {
		name = NWgeneric.22.b
		ai_chance = {
			factor = 90
		}
	}
}


### АНАРХОГЕНЕРИК ###

#Революция свершилась
country_event = {
	id = NWgeneric.100
	title = NWgeneric.100.t
	desc = NWgeneric.100.desc
	picture = GFX_report_event_american_hunger_march
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWgeneric.100" }
	
	option = {
		name = NWgeneric.100.a
		activate_mission = generic_development_concept_anarchism
	}
	
}

#Какая мораль должна господствовать в обществе
country_event = {
	id = NWgeneric.101
	title = NWgeneric.101.t
	desc = NWgeneric.101.desc
	picture = GFX_report_event_generic_rally
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWgeneric.101" }
	immediate = {
		set_country_flag = generic_anarchism_flag_1
		if = {
			limit = {
				has_country_flag = generic_anarchism_flag_1
				has_country_flag = generic_anarchism_flag_2
				has_country_flag = generic_anarchism_flag_3
				has_country_flag = generic_anarchism_flag_4
				has_country_flag = generic_anarchism_flag_5
			}
			country_event = { id = NWgeneric.106 hours = 3 }
		}
		set_temp_variable = { king_t = party_popularity@monarchy }
		set_temp_variable = { fash_t = party_popularity@fascism }
		set_temp_variable = { tech_t = party_popularity@technocracy }
		set_temp_variable = { fash_mona = king_t }
		add_to_temp_variable = { fash_mona = fash_t }
	}
	
	option = {
		name = NWgeneric.101.a
		ai_chance = {
			factor = 50
		}
		add_to_variable = { anarcho_collectivism = 1 }
	}
	
	option = {
		name = NWgeneric.101.b
		ai_chance = {
			factor = 50
		}
		add_to_variable = { anarcho_individualism = 1 }
		add_to_variable = { anarchism_group = 1 }
	}
	
	option = {
		name = NWgeneric.101.c
		ai_chance = {
			factor = 50
		}
		trigger = {
			check_variable = { var = fash_mona value = 0.2 compare = greater_than_or_equals }
		}
		add_to_variable = { anarcho_monarchism = 1 }
		add_to_variable = { anarcho_nationalism = 1 }
	}
	
	option = {
		name = NWgeneric.101.d
		ai_chance = {
			factor = 50
		}
		trigger = {
			OR = {
				amount_research_slots > 3
				AND = {
					amount_research_slots > 2
					amount_research_slots < 4
					num_of_factories > 14
				}
				check_variable = { var = tech_t value = 0.2 compare = greater_than_or_equals }
			}
		}
		add_to_variable = { anarcho_transgumanism = 1 }
	}
}

#Каков должен быть статус частной собственности
country_event = {
	id = NWgeneric.102
	title = NWgeneric.102.t
	desc = NWgeneric.102.desc
	picture = GFX_report_event_french_resistance_02
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWgeneric.102" }
	immediate = {
		set_country_flag = generic_anarchism_flag_2
		if = {
			limit = {
				has_country_flag = generic_anarchism_flag_1
				has_country_flag = generic_anarchism_flag_2
				has_country_flag = generic_anarchism_flag_3
				has_country_flag = generic_anarchism_flag_4
				has_country_flag = generic_anarchism_flag_5
			}
			country_event = { id = NWgeneric.106 hours = 3 }
		}
		set_temp_variable = { king_t = party_popularity@monarchy }
		set_temp_variable = { fash_t = party_popularity@fascism }
		set_temp_variable = { tech_t = party_popularity@technocracy }
		set_temp_variable = { fash_tech = fash_t }
		add_to_temp_variable = { fash_tech = tech_t }
	}
	
	option = {
		name = NWgeneric.102.a
		ai_chance = {
			factor = 50
		}
		add_to_variable = { anarcho_collectivism = 1 }
		add_to_variable = { anarchism_group = 1 }
	}
	
	option = {
		name = NWgeneric.102.b
		ai_chance = {
			factor = 50
		}
		add_to_variable = { anarcho_individualism = 1 }
		add_to_variable = { anarchism_group = 1 }
	}
	
	option = {
		name = NWgeneric.102.c
		ai_chance = {
			factor = 50
		}
		trigger = {
			OR = {
				check_variable = { var = king_t value = 0.2 compare = greater_than_or_equals }
				AND = {
					check_variable = { var = king_t value = 0.1 compare = greater_than_or_equals }
					has_political_power > 99.9
				}
			}
		}
		add_to_variable = { anarcho_monarchism = 1 }
	}
	
	option = {
		name = NWgeneric.102.d
		ai_chance = {
			factor = 50
		}
		trigger = {
			OR = {
				check_variable = { var = fash_tech value = 0.2 compare = greater_than_or_equals }
				AND = {
					check_variable = { var = fash_tech value = 0.1 compare = greater_than_or_equals }
					amount_research_slots > 3
				}
			}
		}
		add_to_variable = { anarcho_nationalism = 1 }
		add_to_variable = { anarcho_transgumanism = 1 }
	}
}

#Какое право должно господствовать в обществе
country_event = {
	id = NWgeneric.103
	title = NWgeneric.103.t
	desc = NWgeneric.103.desc
	picture = GFX_report_event_generic_rally2
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWgeneric.103" }
	immediate = {
		set_country_flag = generic_anarchism_flag_3
		if = {
			limit = {
				has_country_flag = generic_anarchism_flag_1
				has_country_flag = generic_anarchism_flag_2
				has_country_flag = generic_anarchism_flag_3
				has_country_flag = generic_anarchism_flag_4
				has_country_flag = generic_anarchism_flag_5
			}
			country_event = { id = NWgeneric.106 hours = 3 }
		}
	}
	
	option = {
		name = NWgeneric.103.a
		ai_chance = {
			factor = 50
		}
		add_to_variable = { anarcho_individualism = 1 }
	}
	
	option = {
		name = NWgeneric.103.b
		ai_chance = {
			factor = 50
		}
		add_to_variable = { anarcho_collectivism = 1 }
		add_to_variable = { anarchism_group = 1 }
	}
	
	option = {
		name = NWgeneric.103.c
		ai_chance = {
			factor = 50
		}
		add_to_variable = { anarcho_monarchism = 1 }
	}
	
	option = {
		name = NWgeneric.103.d
		ai_chance = {
			factor = 50
		}
		add_to_variable = { anarcho_nationalism = 1 }
		add_to_variable = { anarcho_transgumanism = 1 }
	}
}

#Свободна ли личность в новом обществе
country_event = {
	id = NWgeneric.104
	title = NWgeneric.104.t
	desc = NWgeneric.104.desc
	picture = GFX_report_event_communist_leader
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWgeneric.104" }
	immediate = {
		set_country_flag = generic_anarchism_flag_4
		if = {
			limit = {
				has_country_flag = generic_anarchism_flag_1
				has_country_flag = generic_anarchism_flag_2
				has_country_flag = generic_anarchism_flag_3
				has_country_flag = generic_anarchism_flag_4
				has_country_flag = generic_anarchism_flag_5
			}
			country_event = { id = NWgeneric.106 hours = 3 }
		}
	}
	
	option = {
		name = NWgeneric.104.a
		ai_chance = {
			factor = 50
		}
		add_to_variable = { anarcho_individualism = 1 }
		add_to_variable = { anarchism_group = 1 }
	}
	
	option = {
		name = NWgeneric.104.b
		ai_chance = {
			factor = 50
		}
		add_to_variable = { anarcho_collectivism = 1 }
	}
	
	option = {
		name = NWgeneric.104.c
		ai_chance = {
			factor = 50
		}
		add_to_variable = { anarcho_monarchism = 1 }
		add_to_variable = { anarcho_nationalism = 1 }
		add_to_variable = { anarcho_transgumanism = 1 }
	}
}

#Какова судьба общественных организаций
country_event = {
	id = NWgeneric.105
	title = NWgeneric.105.t
	desc = NWgeneric.105.desc
	picture = GFX_report_event_generic_strike
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWgeneric.105" }
	immediate = {
		set_country_flag = generic_anarchism_flag_5
		if = {
			limit = {
				has_country_flag = generic_anarchism_flag_1
				has_country_flag = generic_anarchism_flag_2
				has_country_flag = generic_anarchism_flag_3
				has_country_flag = generic_anarchism_flag_4
				has_country_flag = generic_anarchism_flag_5
			}
			country_event = { id = NWgeneric.106 hours = 3 }
		}
	}
	
	option = {
		name = NWgeneric.105.a
		ai_chance = {
			factor = 50
		}
		add_to_variable = { anarcho_individualism = 1 }
	}
	
	option = {
		name = NWgeneric.105.b
		ai_chance = {
			factor = 50
		}
		add_to_variable = { anarcho_collectivism = 1 }
	}
	
	option = {
		name = NWgeneric.105.c
		ai_chance = {
			factor = 50
		}
		add_to_variable = { anarcho_monarchism = 1 }
		add_to_variable = { anarcho_nationalism = 1 }
	}
	
	option = {
		name = NWgeneric.105.d
		ai_chance = {
			factor = 50
		}
		add_to_variable = { anarcho_transgumanism = 1 }
		add_to_variable = { anarchism_group = 1 }
	}
}

#Способ распространения идеи о новом обществе
country_event = {
	id = NWgeneric.106
	title = NWgeneric.106.t
	desc = NWgeneric.106.desc
	picture = GFX_report_event_worker_protests
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWgeneric.106" }
	
	option = {
		name = NWgeneric.106.a
		ai_chance = {
			factor = 50
		}
		add_to_variable = { anarcho_individualism = 1 }
	}
	
	option = {
		name = NWgeneric.106.b
		ai_chance = {
			factor = 50
		}
		add_to_variable = { anarcho_collectivism = 1 }
	}
	
	option = {
		name = NWgeneric.106.c
		ai_chance = {
			factor = 50
		}
		add_to_variable = { anarcho_monarchism = 1 }
	}
	
	option = {
		name = NWgeneric.106.d
		ai_chance = {
			factor = 50
		}
		add_to_variable = { anarcho_nationalism = 1 }
	}
	
	option = {
		name = NWgeneric.106.e
		ai_chance = {
			factor = 50
		}
		add_to_variable = { anarcho_transgumanism = 1 }
		add_to_variable = { anarchism_group = 1 }
	}
}

#And the winner is...
country_event = {
	id = NWgeneric.107
	title = NWgeneric.107.t
	desc = {
		text = NWgeneric.107.desc1
		trigger = {
			check_variable = { var = anarcho_collectivism value = anarcho_individualism compare = greater_than_or_equals }
			check_variable = { var = anarcho_collectivism value = anarchism_group compare = greater_than_or_equals }
			check_variable = { var = anarcho_collectivism value = anarcho_monarchism compare = greater_than_or_equals }
			check_variable = { var = anarcho_collectivism value = anarcho_nationalism compare = greater_than_or_equals }
			check_variable = { var = anarcho_collectivism value = anarcho_transgumanism compare = greater_than_or_equals }
		}
	}
	desc = {
		text = NWgeneric.107.desc2
		trigger = {
			check_variable = { var = anarcho_individualism value = anarcho_collectivism compare = greater_than_or_equals }
			check_variable = { var = anarcho_individualism value = anarchism_group compare = greater_than_or_equals }
			check_variable = { var = anarcho_individualism value = anarcho_monarchism compare = greater_than_or_equals }
			check_variable = { var = anarcho_individualism value = anarcho_nationalism compare = greater_than_or_equals }
			check_variable = { var = anarcho_individualism value = anarcho_transgumanism compare = greater_than_or_equals }
		}
	}
	desc = {
		text = NWgeneric.107.desc3
		trigger = {
			check_variable = { var = anarchism_group value = anarcho_collectivism compare = greater_than_or_equals }
			check_variable = { var = anarchism_group value = anarcho_individualism compare = greater_than_or_equals }
			check_variable = { var = anarchism_group value = anarcho_monarchism compare = greater_than_or_equals }
			check_variable = { var = anarchism_group value = anarcho_nationalism compare = greater_than_or_equals }
			check_variable = { var = anarchism_group value = anarcho_transgumanism compare = greater_than_or_equals }
		}
	}
	desc = {
		text = NWgeneric.107.desc4
		trigger = {
			check_variable = { var = anarcho_monarchism value = anarcho_collectivism compare = greater_than_or_equals }
			check_variable = { var = anarcho_monarchism value = anarcho_individualism compare = greater_than_or_equals }
			check_variable = { var = anarcho_monarchism value = anarchism_group compare = greater_than_or_equals }
			check_variable = { var = anarcho_monarchism value = anarcho_nationalism compare = greater_than_or_equals }
			check_variable = { var = anarcho_monarchism value = anarcho_transgumanism compare = greater_than_or_equals }
		}
	}
	desc = {
		text = NWgeneric.107.desc5
		trigger = {
			check_variable = { var = anarcho_nationalism value = anarcho_collectivism compare = greater_than_or_equals }
			check_variable = { var = anarcho_nationalism value = anarcho_individualism compare = greater_than_or_equals }
			check_variable = { var = anarcho_nationalism value = anarchism_group compare = greater_than_or_equals }
			check_variable = { var = anarcho_nationalism value = anarcho_monarchism compare = greater_than_or_equals }
			check_variable = { var = anarcho_nationalism value = anarcho_transgumanism compare = greater_than_or_equals }
		}
	}
	desc = {
		text = NWgeneric.107.desc6
		trigger = {
			check_variable = { var = anarcho_transgumanism value = anarcho_collectivism compare = greater_than_or_equals }
			check_variable = { var = anarcho_transgumanism value = anarcho_individualism compare = greater_than_or_equals }
			check_variable = { var = anarcho_transgumanism value = anarchism_group compare = greater_than_or_equals }
			check_variable = { var = anarcho_transgumanism value = anarcho_monarchism compare = greater_than_or_equals }
			check_variable = { var = anarcho_transgumanism value = anarcho_nationalism compare = greater_than_or_equals }
		}
	}
	picture = GFX_report_event_generic_rally
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWgeneric.107" }

	option = {
		name = NWgeneric.107.a
		ai_chance = {
			factor = 50
		}
		trigger = {
			check_variable = { var = anarcho_collectivism value = anarcho_individualism compare = greater_than_or_equals }
			check_variable = { var = anarcho_collectivism value = anarchism_group compare = greater_than_or_equals }
			check_variable = { var = anarcho_collectivism value = anarcho_monarchism compare = greater_than_or_equals }
			check_variable = { var = anarcho_collectivism value = anarcho_nationalism compare = greater_than_or_equals }
			check_variable = { var = anarcho_collectivism value = anarcho_transgumanism compare = greater_than_or_equals }
		}
		set_country_leader_ideology = anarcho_socialism
		set_country_flag = anarchism_left_flag
	}
	option = {
		name = NWgeneric.107.b
		ai_chance = {
			factor = 50
		}
		trigger = {
			check_variable = { var = anarcho_individualism value = anarcho_collectivism compare = greater_than_or_equals }
			check_variable = { var = anarcho_individualism value = anarchism_group compare = greater_than_or_equals }
			check_variable = { var = anarcho_individualism value = anarcho_monarchism compare = greater_than_or_equals }
			check_variable = { var = anarcho_individualism value = anarcho_nationalism compare = greater_than_or_equals }
			check_variable = { var = anarcho_individualism value = anarcho_transgumanism compare = greater_than_or_equals }
		}
		set_country_leader_ideology = anarcho_individualism
		set_country_flag = anarchism_right_flag
	}
	option = {
		name = NWgeneric.107.c
		ai_chance = {
			factor = 50
		}
		trigger = {
			check_variable = { var = anarchism_group value = anarcho_collectivism compare = greater_than_or_equals }
			check_variable = { var = anarchism_group value = anarcho_individualism compare = greater_than_or_equals }
			check_variable = { var = anarchism_group value = anarcho_monarchism compare = greater_than_or_equals }
			check_variable = { var = anarchism_group value = anarcho_nationalism compare = greater_than_or_equals }
			check_variable = { var = anarchism_group value = anarcho_transgumanism compare = greater_than_or_equals }
		}
		set_country_leader_ideology = anarchism_ideology
		set_country_flag = anarchism_neutrality_flag
	}
	option = {
		name = NWgeneric.107.d
		ai_chance = {
			factor = 50
		}
		trigger = {
			check_variable = { var = anarcho_monarchism value = anarcho_collectivism compare = greater_than_or_equals }
			check_variable = { var = anarcho_monarchism value = anarcho_individualism compare = greater_than_or_equals }
			check_variable = { var = anarcho_monarchism value = anarchism_group compare = greater_than_or_equals }
			check_variable = { var = anarcho_monarchism value = anarcho_nationalism compare = greater_than_or_equals }
			check_variable = { var = anarcho_monarchism value = anarcho_transgumanism compare = greater_than_or_equals }
		}
		set_country_leader_ideology = anarcho_monarchism
		set_country_flag = anarchism_monarchism_flag
	}
	option = {
		name = NWgeneric.107.e
		ai_chance = {
			factor = 50
		}
		trigger = {
			check_variable = { var = anarcho_nationalism value = anarcho_collectivism compare = greater_than_or_equals }
			check_variable = { var = anarcho_nationalism value = anarcho_individualism compare = greater_than_or_equals }
			check_variable = { var = anarcho_nationalism value = anarchism_group compare = greater_than_or_equals }
			check_variable = { var = anarcho_nationalism value = anarcho_monarchism compare = greater_than_or_equals }
			check_variable = { var = anarcho_nationalism value = anarcho_transgumanism compare = greater_than_or_equals }
		}
		set_country_leader_ideology = anarcho_nationalism
		set_country_flag = anarchism_nationalism_flag
	}
	option = {
		name = NWgeneric.107.f
		ai_chance = {
			factor = 50
		}
		trigger = {
			check_variable = { var = anarcho_transgumanism value = anarcho_collectivism compare = greater_than_or_equals }
			check_variable = { var = anarcho_transgumanism value = anarcho_individualism compare = greater_than_or_equals }
			check_variable = { var = anarcho_transgumanism value = anarchism_group compare = greater_than_or_equals }
			check_variable = { var = anarcho_transgumanism value = anarcho_monarchism compare = greater_than_or_equals }
			check_variable = { var = anarcho_transgumanism value = anarcho_nationalism compare = greater_than_or_equals }
		}
		set_country_leader_ideology = anarcho_transgumanism
		set_country_flag = anarchism_transgumanism_flag
	}
}

#Способ распространения идеи о новом обществе
country_event = {
	id = NWgeneric.108
	title = NWgeneric.108.t
	desc = NWgeneric.108.desc
	picture = GFX_report_event_generic_rally2
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event NWgeneric.108" }
	immediate = {
		unlock_national_focus = moral_question_focus
		unlock_national_focus = question_of_private_property_focus
		unlock_national_focus = question_of_law_focus
		unlock_national_focus = question_of_personality_focus
		unlock_national_focus = question_of_public_organizations_focus
	}
	
	option = {
		name = NWgeneric.108.a
		random_list = {
			50 = {
				set_country_leader_ideology = anarcho_socialism
				set_country_flag = anarchism_left_flag
			}
			50 = {
				set_country_leader_ideology = anarcho_individualism
				set_country_flag = anarchism_right_flag
			}
			50 = {
				set_country_leader_ideology = anarchism_ideology
				set_country_flag = anarchism_neutrality_flag
			}
			50 = {
				set_country_leader_ideology = anarcho_monarchism
				set_country_flag = anarchism_monarchism_flag
			}
			50 = {
				set_country_leader_ideology = anarcho_nationalism
				set_country_flag = anarchism_nationalism_flag
			}
			50 = {
				set_country_leader_ideology = anarcho_transgumanism
				set_country_flag = anarchism_transgumanism_flag
			}
		}
	}
}



#TEST
country_event = {
	id = NWgeneric.999
	title = TEST
	desc = TEST
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	option = {
		name = "5 factions"
		random_country = {
			limit = { has_country_flag = anarchism_left_flag }
			set_rule = { can_create_factions = yes }
			create_faction = "Анархический Левый Интернационал"
			set_country_flag = anarchism_left_leader_flag
			every_other_country = {
				limit = { has_country_flag = anarchism_left_flag }
				PREV = { add_to_faction = PREV }
			}
		}
		random_country = {
			limit = { has_country_flag = anarchism_right_flag }
			set_rule = { can_create_factions = yes }
			create_faction = "Правая Анархическая Коалиция"
			set_country_flag = anarchism_right_leader_flag
			every_other_country = {
				limit = { has_country_flag = anarchism_right_flag }
				PREV = { add_to_faction = PREV }
			}
		}
		random_country = {
			limit = { has_country_flag = anarchism_neutrality_flag }
			set_rule = { can_create_factions = yes }
			create_faction = "Анархический Синтез"
			set_country_flag = anarchism_neutrality_leader_flag
			every_other_country = {
				limit = { has_country_flag = anarchism_neutrality_flag }
				PREV = { add_to_faction = PREV }
			}
		}
		random_country = {
			limit = { has_country_flag = anarchism_monarchism_flag }
			set_rule = { can_create_factions = yes }
			create_faction = "Конкордат либертарных монархов"
			set_country_flag = anarchism_monarchism_leader_flag
			every_other_country = {
				limit = { has_country_flag = anarchism_monarchism_flag }
				PREV = { add_to_faction = PREV }
			}
		}
		random_country = {
			limit = { has_country_flag = anarchism_nationalism_flag }
			set_rule = { can_create_factions = yes }
			create_faction = "Союз Свободных Наций"
			set_country_flag = anarchism_nationalism_leader_flag
			every_other_country = {
				limit = { has_country_flag = anarchism_nationalism_flag }
				PREV = { add_to_faction = PREV }
			}
		}
		random_country = {
			limit = { has_country_flag = anarchism_transgumanism_flag }
			set_rule = { can_create_factions = yes }
			create_faction = "Технологический Альянс"
			set_country_flag = anarchism_transgumanism_leader_flag
			every_other_country = {
				limit = { has_country_flag = anarchism_transgumanism_flag }
				PREV = { add_to_faction = PREV }
			}
		}
	}
	
	option = {
		name = "3 factions"
		random_country = {
			limit = { has_country_flag = anarchism_left_flag }
			set_rule = { can_create_factions = yes }
			create_faction = "Анархический Левый Интернационал"
			set_country_flag = anarchism_left_leader_flag
			every_other_country = {
				limit = { has_country_flag = anarchism_left_flag }
				PREV = { add_to_faction = PREV }
			}
		}
		random_country = {
			limit = { has_country_flag = anarchism_right_flag }
			set_rule = { can_create_factions = yes }
			create_faction = "Правая Анархическая Коалиция"
			set_country_flag = anarchism_right_leader_flag
			every_other_country = {
				limit = { has_country_flag = anarchism_right_flag }
				PREV = { add_to_faction = PREV }
			}
		}
		random_country = {
			limit = { has_country_flag = anarchism_neutrality_flag }
			set_rule = { can_create_factions = yes }
			create_faction = "Анархический Синтез"
			set_country_flag = anarchism_neutrality_leader_flag
			every_other_country = {
				limit = {
					OR = {
						has_country_flag = anarchism_neutrality_flag
						has_country_flag = anarchism_monarchism_flag
						has_country_flag = anarchism_nationalism_flag
						has_country_flag = anarchism_transgumanism_flag
					}
				}
				PREV = { add_to_faction = PREV }
			}
		}
	}
	
	option = {
		name = "TOTAL WAR"
		random_country = {
			limit = { has_country_flag = anarchism_left_leader_flag }
			every_other_country = {
				limit = {
					OR = {
						has_country_flag = anarchism_right_leader_flag
						has_country_flag = anarchism_neutrality_leader_flag
						has_country_flag = anarchism_monarchism_leader_flag
						has_country_flag = anarchism_nationalism_leader_flag
						has_country_flag = anarchism_transgumanism_leader_flag
					}
				}
				declare_war_on = {
					target = PREV
					type = annex_everything
				}
			}
		}
		random_country = {
			limit = { has_country_flag = anarchism_right_leader_flag }
			every_other_country = {
				limit = {
					OR = {
						has_country_flag = anarchism_neutrality_leader_flag
						has_country_flag = anarchism_monarchism_leader_flag
						has_country_flag = anarchism_nationalism_leader_flag
						has_country_flag = anarchism_transgumanism_leader_flag
					}
				}
				declare_war_on = {
					target = PREV
					type = annex_everything
				}
			}
		}
		random_country = {
			limit = { has_country_flag = anarchism_neutrality_leader_flag }
			every_other_country = {
				limit = {
					OR = {
						has_country_flag = anarchism_monarchism_leader_flag
						has_country_flag = anarchism_nationalism_leader_flag
						has_country_flag = anarchism_transgumanism_leader_flag
					}
				}
				declare_war_on = {
					target = PREV
					type = annex_everything
				}
			}
		}
		random_country = {
			limit = { has_country_flag = anarchism_monarchism_leader_flag }
			every_other_country = {
				limit = {
					OR = {
						has_country_flag = anarchism_nationalism_leader_flag
						has_country_flag = anarchism_transgumanism_leader_flag
					}
				}
				declare_war_on = {
					target = PREV
					type = annex_everything
				}
			}
		}
		random_country = {
			limit = { has_country_flag = anarchism_nationalism_leader_flag }
			every_other_country = {
				limit = { has_country_flag = anarchism_transgumanism_leader_flag }
				declare_war_on = {
					target = PREV
					type = annex_everything
				}
			}
		}
	}
	
}

###########################
# Ветка Бельгии
###########################

add_namespace = NWbelgium

#Выборы в парламент
country_event = {
	id = NWbelgium.1
	title = NWbelgium.1.t
	desc = NWbelgium.1.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes

	trigger = {
		tag = BEL
		date > 1936.05.20
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWbelgium.1" }
	immediate = { complete_national_focus = BEL_parliamentary_elections }
	
	option = {
		name = NWbelgium.1.a
		ai_chance = {
			factor = 50
			modifier = {
				add = 500
				has_country_flag = NW_BEL_AI_DEMOCRATIC
			}
			modifier = {
				factor = 0
				OR = {
					has_country_flag = NW_BEL_AI_DEMOCRATIC_ALTERNATE
					has_country_flag = NW_BEL_AI_FASCIST
					has_country_flag = NW_BEL_AI_MONARCHY
				}
			}
		}
		complete_national_focus = BEL_van_zeland_office
	}
	
	option = {
		name = NWbelgium.1.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				OR = {
					has_country_flag = NW_BEL_AI_DEMOCRATIC
					has_country_flag = NW_BEL_AI_MONARCHY
				}
			}
			modifier = {
				add = 500
				OR = {
					has_country_flag = NW_BEL_AI_DEMOCRATIC_ALTERNATE
					has_country_flag = NW_BEL_AI_FASCIST
				}
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		complete_national_focus = BEL_office_vandervelde
		add_ideas = BEL_uncertainty_in_government
	}
	
	option = {
		name = NWbelgium.1.c
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				OR = {
					has_country_flag = NW_BEL_AI_DEMOCRATIC
					has_country_flag = NW_BEL_AI_DEMOCRATIC_ALTERNATE
					has_country_flag = NW_BEL_AI_FASCIST
				}
			}
			modifier = {
				add = 500
				has_country_flag = NW_BEL_AI_MONARCHY
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		complete_national_focus = BEL_uncertainty_in_government
		add_ideas = BEL_uncertainty_in_government
	}
}

#FROM приглашает нас в Бинелюкс (науч. группа)
country_event = {
	id = NWbelgium.2
	title = NWbelgium.2.t
	desc = NWbelgium.2.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes

	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWbelgium.2" }
	
	option = {
		name = NWbelgium.2.a
		ai_chance = {
			factor = 90
		}
		add_to_tech_sharing_group = BEL_benelux_group
		add_ideas = BEL_benelux_customs_union
		hidden_effect = {
			if = {
				limit = { FROM = { NOT = { has_idea = BEL_benelux_customs_union } } }
				FROM = { add_ideas = BEL_benelux_customs_union }
			}
		}
	}
	
	option = {
		name = NWbelgium.2.b
		ai_chance = {
			factor = 10
		}
		
	}
}


#Уличение премьер-министра в коррупции
country_event = {
	id = NWbelgium.3
	title = NWbelgium.3.t
	desc = NWbelgium.3.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes

	trigger = {
		tag = BEL
		has_country_leader = {
			name = "Paul Van Zeeland"
			ruling_only = yes
		}
		date > 1937.10.20
	}

	immediate = { log = "[GetDateText]: [Root.GetName]: event NWbelgium.3" }
	
	option = {
		name = NWbelgium.3.a
		create_country_leader = {
			name = "Paul-Emile Janson"
			desc = "POLITICS_PAUL_EMILE_JANSON_DESC"
			picture = "gfx/leaders/BEL/Portrait_Paul-Emile_Janson.dds"
			expire = "1965.1.1"
			ideology = democratic_socialism
			traits = {
			}
		}
	}
}

#Неудача в формировании правительства национального объединения
country_event = {
	id = NWbelgium.4
	title = NWbelgium.4.t
	desc = NWbelgium.4.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes

	immediate = { log = "[GetDateText]: [Root.GetName]: event NWbelgium.4" }
	
	option = {
		name = NWbelgium.4.a
		effect_tooltip = {
			add_popularity = {
				ideology = democratic
				popularity = -0.22
			}
		}
		set_party_name = { ideology = democratic name = BEL_social_party long_name = BEL_social_party_long }
		hidden_effect = {
			add_popularity = {
				ideology = fascism
				popularity = 0.12
			}
			add_popularity = {
				ideology = neutrality
				popularity = 0.1
			}
		}
	}
}

#Бельгия хочет заключить с нами союз // FRA/FRC
country_event = {
	id = NWbelgium.5
	title = NWbelgium.5.t
	desc = NWbelgium.5.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes

	immediate = { log = "[GetDateText]: [Root.GetName]: event NWbelgium.5" }
	
	option = {
		name = NWbelgium.5.a
		ai_chance = {
			factor = 90
		}
		if = {
			limit = { ROOT = { is_faction_leader = yes } }
			add_to_faction = FROM
		}
		if = {
			limit = {
				ROOT = {
					is_in_faction = yes
					is_faction_leader = no
				}
			}
			random_country = {
				limit = {
					is_in_faction_with = ROOT
					is_faction_leader = yes
				}
				add_to_faction = FROM
			}
		}
		if = {
			limit = {
				ROOT = {
					original_tag = event_target:NW_france_scope
					is_in_faction = no
				}
			}
			set_rule = { can_create_factions = yes }
			create_faction = french_entente_alliance
			add_to_faction = FROM
			hidden_effect = {
				news_event = { hours = 6 id = news.177 }
			}
		}
		if = {
			limit = {
				ROOT = {
					original_tag = FRC
					is_in_faction = no
				}
			}
			set_rule = { can_create_factions = yes }
			create_faction = FRC_french_revolutionary_union
			add_to_faction = FROM
		}
	}
	
	option = {
		name = NWbelgium.5.b
		ai_chance = {
			factor = 10
		}
	}
}

#Восстание во Фландрии
country_event = {
	id = NWbelgium.6
	title = NWbelgium.6.t
	desc = NWbelgium.6.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes

	immediate = { log = "[GetDateText]: [Root.GetName]: event NWbelgium.6" }
	immediate = { remove_ideas = BEL_flemish_walloon_conflict remove_ideas = BEL_flemish_walloon_conflict_2 remove_ideas = BEL_incompetent_monarch }
	
	option = {
		name = NWbelgium.6.a
		ai_chance = {
			factor = 90
		}
		FLA = {
			transfer_state = 975
			declare_war_on = {
				target = ROOT
				type = annex_everything
			}
			hidden_effect = {
				set_popularities = {
					democratic = 35
					fascism = 10
					communism = 5
					neutrality = 50
				}
				set_politics = {
					ruling_party = neutrality
					last_election = "1932.11.27"
					election_frequency = 48
					elections_allowed = yes
				}
				load_oob = "FLA_rise"
			}
		}
		if = {
			limit = { NOT = { has_completed_focus = BEL_propaganda_against_rexists } }
			country_event = { id = NWbelgium.7 days = 2 }
		}
	}
	
	option = {
		name = NWbelgium.6.b
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				has_country_flag = NW_BEL_AI_FASCIST
			}
		}
		trigger = { NOT = { WLN = { is_subject_of = ROOT } } }
		FLA = { transfer_state = 975 }
		puppet = FLA
		hidden_effect = { FLA = { load_oob = "FLA_rise" } }
	}
}

#Восстание в Люксембурге
country_event = {
	id = NWbelgium.7
	title = NWbelgium.7.t
	desc = NWbelgium.7.desc
	picture = GFX_report_event_bel_luxemburg_problem
	is_triggered_only = yes

	immediate = { log = "[GetDateText]: [Root.GetName]: event NWbelgium.7" }
	immediate = { complete_national_focus = BEL_rexist_coup }
	
	option = {
		name = NWbelgium.7.a
		if = {
			limit = { has_war_with = FLA }
			white_peace = FLA
		}
		if = {
			limit = { NOT = { country_exists = FLA } }
			FLA = { transfer_state = 975 }
		}
		hidden_effect = {
			transfer_state = 6
		}
		start_civil_war = {
			ideology = democratic
			size = 0.5
			capital = 6
			states = { 34 1061 6 }
		}
		set_autonomy = {
			target = FLA
			autonomy_state = autonomy_reichsprotectorate
		}
		if = {
			limit = { COG = { is_subject_of = ROOT } }
			COG = { add_ideas = BEL_war_in_metropolis }
		}
		hidden_effect = {
			random_country = {
				limit = {
					original_tag = BEL
					has_government = democratic
				}
				declare_war_on = {
					target = FLA
					type = civil_war
				}
				load_focus_tree = { tree = nw_belgium_focus keep_completed = yes }
				add_timed_idea = { idea = focus_synchronization days = 7 }
				unlock_national_focus = BEL_parliamentary_elections
				complete_national_focus = BEL_van_zeland_office
			}
			FLA = {
				set_popularities = {
					democratic = 35
					fascism = 10
					communism = 5
					neutrality = 50
				}
				set_politics = {
					ruling_party = neutrality
					last_election = "1932.11.27"
					election_frequency = 48
					elections_allowed = yes
				}
			}
			news_event = { id = trworldnews.84 hours = 6 }
		}
	}
}

#Бельгия предлагает примирение // GER
country_event = {
	id = NWbelgium.8
	title = NWbelgium.8.t
	desc = NWbelgium.8.desc
	desc = {
		text = NWbelgium.8.desc_fasism
		trigger = {
			FROM = { has_completed_focus = BEL_reconciliation_with_germany }
		}
	}
	desc = {
		text = NWbelgium.8.desc_neutrality
		trigger = {
			FROM = { has_completed_focus = BEL_alliance_with_germany }
		}
	}
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes

	immediate = { log = "[GetDateText]: [Root.GetName]: event NWbelgium.8" }
	
	option = {
		name = NWbelgium.8.a
		ai_chance = {
			factor = 50
		}
		GER = { add_to_faction = FROM }
	}
	
	option = {
		name = NWbelgium.8.b
		ai_chance = {
			factor = 50
		}
		FROM = { country_event = { id = NWbelgium.10 days = 1 } }
	}
	
	option = {
		name = NWbelgium.8.c
		ai_chance = {
			factor = 5
		}
		FROM = { country_event = { id = NWbelgium.9 days = 1 } }
	}
}

#Германский отказ // BEL
country_event = {
	id = NWbelgium.9
	title = NWbelgium.9.t
	desc = NWbelgium.9.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes

	immediate = { log = "[GetDateText]: [Root.GetName]: event NWbelgium.9" }
	
	option = {
		name = NWbelgium.9.a
	}
}

#Германия требует передать Эйпен-Мальмеди // BEL
country_event = {
	id = NWbelgium.10
	title = NWbelgium.10.t
	desc = NWbelgium.10.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes

	immediate = { log = "[GetDateText]: [Root.GetName]: event NWbelgium.10" }
	
	option = {
		name = NWbelgium.10.a
		ai_chance = {
			factor = 75
		}
		766 = {
			GER = { transfer_state = PREV }
			add_core_of = GER
			remove_core_of = ROOT
		}
		GER = { add_to_faction = ROOT }
	}
	
	option = {
		name = NWbelgium.10.b
		ai_chance = {
			factor = 25
		}
		FROM = { country_event = { id = NWbelgium.11 days = 1 } }
	}
}

#Бельгия отказалась передавать свою территорию // GER
country_event = {
	id = NWbelgium.11
	title = NWbelgium.11.t
	desc = NWbelgium.11.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes

	immediate = { log = "[GetDateText]: [Root.GetName]: event NWbelgium.11" }
	
	option = {
		name = NWbelgium.11.a
		add_opinion_modifier = { target = FROM modifier = BEL_refused_transfer_territory }
		FROM = { add_opinion_modifier = { target = ROOT modifier = BEL_refused_transfer_territory } }
	}
}

#Восстание в Валлонии
country_event = {
	id = NWbelgium.12
	title = NWbelgium.12.t
	desc = NWbelgium.12.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes

	trigger = {
		tag = BEL
		NOT = { has_government = democratic }
		has_idea = BEL_flemish_walloon_conflict
		is_in_faction_with = GER
		GER = { is_faction_leader = yes }
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWbelgium.12" }
	immediate = { remove_ideas = BEL_flemish_walloon_conflict remove_ideas = BEL_flemish_walloon_conflict_2 }
	
	option = {
		name = NWbelgium.12.a
		ai_chance = {
			factor = 90
		}
		WLN = {
			transfer_state = 975
			declare_war_on = {
				target = ROOT
				type = annex_everything
			}
			hidden_effect = {
				set_popularities = {
					democratic = 80
					fascism = 11
					communism = 9
				}
				set_politics = {	
					ruling_party = democratic
					last_election = "1932.11.27"
					election_frequency = 48
					elections_allowed = yes
				}
				load_oob = "WLN_rise"
			}
		}
	}
	
	option = {
		name = NWbelgium.12.b
		ai_chance = {
			factor = 10
		}
		trigger = { NOT = { WLN = { is_subject_of = ROOT } } }
		WLN = { transfer_state = 975 }
		puppet = WLN
		hidden_effect = {
			set_popularities = {
				democratic = 80
				fascism = 11
				communism = 9
			}
			set_politics = {	
				ruling_party = democratic
				last_election = "1932.11.27"
				election_frequency = 48
				elections_allowed = yes
			}
			load_oob = "WLN_rise"
		}
	}
}

#Леопольд III остался в Бельгии
country_event = {
	id = NWbelgium.13
	title = NWbelgium.13.t
	desc = NWbelgium.13.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes

	trigger = {
		tag = BEL
		has_capitulated = yes
		has_idea = BEL_incompetent_monarch
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWbelgium.13" }
	
	option = {
		name = NWbelgium.13.a
		add_stability = -0.05
		add_popularity = {
			ideology = democratic
			popularity = -0.05
		}
	}
}

#Референдум о монархии
country_event = {
	id = NWbelgium.14
	title = NWbelgium.14.t
	desc = NWbelgium.14.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWbelgium.14" }
	
	option = {
		name = NWbelgium.14.a
		ai_chance = {
			factor = 50
		}
		add_ideas = BEL_abolition_monarchy
	}
	
	option = {
		name = NWbelgium.14.b
		ai_chance = {
			factor = 50
		}
		add_ideas = BEL_save_monarchy
	}
}

#Смерть Эмиля Вандервельде
country_event = {
	id = NWbelgium.15
	title = NWbelgium.15.t
	desc = NWbelgium.15.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes

	trigger = {
		tag = BEL
		has_country_leader = {
			name = "Émile Vandervelde"
			ruling_only = yes
		}
		date > 1938.12.22
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWbelgium.15" }
	
	option = {
		name = NWbelgium.15.a
		ai_chance = {
			factor = 50
		}
		create_country_leader = {
			name = "Henri de Man"
			desc = "POLITICS_HENRI_DE_MAN_DESC"
			picture = "gfx/leaders/BEL/Portrait_Henri_de_Man.dds"
			expire = "1965.1.1"
			ideology = socialism
			traits = {
				planning_theorist
			}
		}
		custom_effect_tooltip = unlock_BEL_rotate_right_tt
		set_country_flag = BEL_rotate_right_flag
	}
	
	option = {
		name = NWbelgium.15.b
		ai_chance = {
			factor = 50
		}
		trigger = { has_completed_focus = BEL_coalition_with_communists }
		add_popularity = {
			ideology = democratic
			popularity = -0.2
		}
		add_popularity = {
			ideology = communism
			popularity = 0.25
		}
		set_politics = {	
			ruling_party = communism
			elections_allowed = no
		}
		create_country_leader = {
			name = "Henri de Man"
			desc = "POLITICS_HENRI_DE_MAN_DESC"
			picture = "gfx/leaders/BEL/Portrait_Henri_de_Man.dds"
			expire = "1965.1.1"
			ideology = socialism
			traits = {
				planning_theorist
			}
		}
		custom_effect_tooltip = unlock_BEL_step_left_tt
		set_country_flag = BEL_step_left
	}
}

#Коммунисты по соседству
country_event = {
	id = NWbelgium.16
	title = NWbelgium.16.t
	desc = NWbelgium.16.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWbelgium.16" }
	
	option = {
		name = NWbelgium.16.a
		ai_chance = {
			factor = 30
			modifier = {
				factor = 0
				has_war_with = HOL
			}
		}
		trigger = { HOL = { has_government = communism is_faction_leader = yes } }
		HOL = { country_event = { id = generic.2 days = 1 } }
	}
	
	option = {
		name = NWbelgium.16.b
		ai_chance = {
			factor = 65
			modifier = {
				factor = 0
				has_war_with = event_target:NW_france_scope
			}
		}
		trigger = { event_target:NW_france_scope = { has_government = communism is_faction_leader = yes } }
		event_target:NW_france_scope = { country_event = { id = generic.2 days = 1 } }
	}
	
	option = {
		name = NWbelgium.16.c
		ai_chance = {
			factor = 5
		}
	}
}

#Левые высказываются против «абсолютизма»
country_event = {
	id = NWbelgium.17
	title = NWbelgium.17.t
	desc = NWbelgium.17.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWbelgium.17" }
	
	option = {
		name = NWbelgium.17.a
		ai_chance = {
			factor = 50
		}
		add_popularity = {
			ideology = communism
			popularity = 0.15
		}
	}
	
	option = {
		name = NWbelgium.17.b
		ai_chance = {
			factor = 50
		}
		add_political_power = -100
		add_ideas = BEL_obstacles_absolutism
	}
}

#Левые высказываются против выделения бюджета на армию
country_event = {
	id = NWbelgium.18
	title = NWbelgium.18.t
	desc = NWbelgium.18.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWbelgium.18" }
	
	option = {
		name = NWbelgium.18.a
		ai_chance = {
			factor = 80
		}
		add_popularity = {
			ideology = communism
			popularity = 0.15
		}
		add_tech_bonus = {
			name = BEL_accelerated_rearmament
			bonus = 1.0
			uses = 1
			category = motorized_equipment
			category = armor
		}
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 1
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
		}
	}
	
	option = {
		name = NWbelgium.18.b
		ai_chance = {
			factor = 20
		}
	}
}

#Левые выступают против выделения дополнительного бюджета на укрепления
country_event = {
	id = NWbelgium.19
	title = NWbelgium.19.t
	desc = NWbelgium.19.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWbelgium.19" }
	
	option = {
		name = NWbelgium.19.a
		ai_chance = {
			factor = 75
		}
		trigger = {
			6 = {
				owner = {
					OR = {
						tag = ROOT
						is_in_faction_with = ROOT
						is_subject_of = ROOT
					}
				}
			}
		}
		add_popularity = {
			ideology = communism
			popularity = 0.15
		}
		6 = {
			add_building_construction = {
				type = bunker
				level = 2
				instant_build = yes
				province = 516 
			}
			add_building_construction = {
				type = bunker
				level = 2
				instant_build = yes
				province = 13877
			}
			add_building_construction = {
				type = bunker
				level = 2
				instant_build = yes
				province = 13876 
			}
		}
		
	}
	
	option = {
		name = NWbelgium.19.b
		ai_chance = {
			factor = 25
		}
	}
}

#Левые выступают против укрепления береговых линий
country_event = {
	id = NWbelgium.20
	title = NWbelgium.20.t
	desc = NWbelgium.20.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWbelgium.20" }
	
	option = {
		name = NWbelgium.20.a
		ai_chance = {
			factor = 50
		}
		trigger = {
			6 = {
				owner = {
					OR = {
						tag = ROOT
						is_in_faction_with = ROOT
						is_subject_of = ROOT
					}
				}
			}
			975 = {
				owner = {
					OR = {
						tag = ROOT
						is_in_faction_with = ROOT
						is_subject_of = ROOT
					}
				}
			}
		}
		add_popularity = {
			ideology = communism
			popularity = 0.15
		}
		6 = {
			add_building_construction = {
				type = coastal_bunker
				level = 1
				instant_build = yes
				province = 6446
			}
			add_building_construction = {
				type = coastal_bunker
				level = 1
				instant_build = yes
				province = 6560
			}
		}
		975 = {
			add_building_construction = {
				type = coastal_bunker
				level = 1
				instant_build = yes
				province = 6598
			}
			add_building_construction = {
				type = coastal_bunker
				level = 1
				instant_build = yes
				province = 11419
			}
		}
		
	}
	
	option = {
		name = NWbelgium.20.b
		ai_chance = {
			factor = 50
		}
	}
}





#TEST
country_event = {
	id = NWbelgium.999
	title = NWbelgium.999.t
	desc = NWbelgium.999.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes

	immediate = { log = "[GetDateText]: [Root.GetName]: event NWbelgium.999" }
	
	option = {
		name = 1
		remove_ideas = BEL_incompetent_monarch
	}
	
	option = {
		name = 2
		ARA = { add_ideas = anarcho_sindicalism_influence }
	}
	
	option = {
		name = 3
		295 = { owner = { add_ideas = BEL_investment_in_congo } }
	}
	
}


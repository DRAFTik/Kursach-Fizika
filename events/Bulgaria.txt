###########################
# Bulgarian Events
###########################

add_namespace = bulgaria

# Treaty of Craiova - Romania Accepts
country_event = {
	id = bulgaria.1
	title = bulgaria.1.t
	desc = bulgaria.1.d
	picture = GFX_report_event_hitler_handshake
	
	is_triggered_only = yes
	
	option = {
		name = bulgaria.1.a
		BUL = { 
			transfer_state = 77
			add_state_core = 77
		}
		if = {
			limit = {
				77 = { is_core_of = ROM }
			}
			ROM = {
				remove_state_core = 77
				add_state_claim = 77
			}
		}
		hidden_effect = {
			news_event = { days = 1 id = news.21 }
		}
	}
}

# Treaty of Craiova - Romania Refuses
country_event = {
	id = bulgaria.2
	title = bulgaria.2.t
	desc = bulgaria.2.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option = {
		name = bulgaria.2.a
		create_wargoal = {
			type = take_state_focus
			target = ROM
			generator = { 77 }
		}
		#generate wargoal for romania
	}
}

# Bulgaria (First Ljubljana Award) from german focus
country_event = {
	id = bulgaria.3
	title = bulgaria.3.t
	desc = bulgaria.3.d
	picture = GFX_report_event_vienna_award_negotiations
	
	is_triggered_only = yes
	
	option = {
		name = bulgaria.3.a
		if = {
			limit = {
				OR = {
					106 = { is_owned_by = YUG }
					106 = { is_owned_by = GER }
					825 = { is_owned_by = YUG }
					825 = { is_owned_by = GER }
				}
			}
			transfer_state = 106
			transfer_state = 825
		}
	}
}

# Treaty of Craiova - Hungary gets land. So should we
country_event = {
	id = bulgaria.4
	title = bulgaria.4.t
	desc = bulgaria.4.d
	picture = GFX_report_event_vienna_award_negotiations
	
	trigger = {
		tag = BUL
		NOT = { has_country_flag = bulgaria.4_fired }
		BUL = {
			NOT = { is_in_faction_with = ROM }
		}
		BUL = {
			NOT = { is_subject_of = ROM }
		}
		ROM = {
			OR = { 
				has_country_flag = second_vienna_accepted_north
				has_country_flag = second_vienna_accepted_all
			}
		}
	}

	mean_time_to_happen = { days = 5 } 
	
	immediate = { set_country_flag = bulgaria.4_fired	}

	#make demands
	option = {
		ai_chance = { factor = 10 }
		name = bulgaria.4.a
		GER = { country_event = germany.106 }
	}	
	#dont make demands
	option = {
		ai_chance = { factor = 0 }
		name = bulgaria.4.b
	}
}

# Treaty of Craiova - Germany will not back us
country_event = {
	id = bulgaria.5
	title = bulgaria.5.t
	desc = bulgaria.5.d
	picture = GFX_report_event_vienna_award_negotiations
	
	is_triggered_only = yes
	
	option = {
		name = bulgaria.5.a
	}
}

###########Договор о дружбе с Югославией#############

country_event = {
	id = bulgaria.6
	title = bulgaria.6.t
	desc = bulgaria.6.d
	picture = GFX_report_event_second_vienna_award_pact
	
	is_triggered_only = yes
	
	option = {
		name = bulgaria.6.a
		ai_chance = { factor = 90 }
		YUG = { add_opinion_modifier = { target = BUL modifier = BUL_YUG_friend } }
		BUL = { add_opinion_modifier = { target = YUG modifier = BUL_YUG_friend } }
		diplomatic_relation = {
			country = BUL
			relation = non_aggression_pact
			active = yes
		}
	}

	option = {
		name = bulgaria.6.b
		ai_chance = { factor = 10 }
		
	}
}

###########Договор о ненападении с CCCH#############

country_event = {
	id = bulgaria.7
	title = bulgaria.7.t
	desc = bulgaria.7.d
	picture = GFX_report_event_second_vienna_award_pact
	
	is_triggered_only = yes
	
	option = {
		name = bulgaria.7.a
		ai_chance = { factor = 90 }
		SOV = { add_opinion_modifier = { target = BUL modifier = BUL_YUG_friend } }
		BUL = { add_opinion_modifier = { target = SOV modifier = BUL_YUG_friend } }
		diplomatic_relation = {
			country = BUL
			relation = non_aggression_pact
			active = yes
		}
	}

	option = {
		name = bulgaria.7.b
		ai_chance = { factor = 10 }
		
	}
}

###########Договор о ненападении с Германией#############

country_event = {
	id = bulgaria.8
	title = bulgaria.8.t
	desc = bulgaria.8.d
	picture = GFX_report_event_second_vienna_award_pact
	
	is_triggered_only = yes
	
	option = {
		name = bulgaria.8.a
		ai_chance = { factor = 90 }
		diplomatic_relation = {
			country = BUL
			relation = non_aggression_pact
			active = yes
		}
	}

	option = {
		name = bulgaria.8.b
		ai_chance = { factor = 10 }
		
	}
}

###########100 машинок с Германии#############

country_event = {
	id = bulgaria.9
	title = bulgaria.9.t
	desc = bulgaria.9.d
	picture = GFX_report_event_second_vienna_award_pact
	
	is_triggered_only = yes
	
	option = {
		name = bulgaria.9.a
		ai_chance = { factor = 90 }
		GER = { add_equipment_to_stockpile = { type = motorized_equipment_1 amount = -100 producer = GER } }
		BUL = { add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 100 producer = GER } }
		add_political_power = 25
		BUL = { add_political_power = -25 }
	}

	option = {
		name = bulgaria.9.b
		ai_chance = { factor = 10 }
		
	}
}

###########100 машинок с Германии#############

country_event = {
	id = bulgaria.10
	title = bulgaria.10.t
	desc = bulgaria.10.d
	picture = GFX_report_event_second_vienna_award_pact
	
	is_triggered_only = yes
	
	option = {
		name = bulgaria.10.a
		ai_chance = { factor = 90 }
		ITA = { add_equipment_to_stockpile = { type = motorized_equipment_1 amount = -100 producer = ITA } }
		BUL = { add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 100 producer = GER } }
		add_political_power = 25
		BUL = { add_political_power = -25 }
	}

	option = {
		name = bulgaria.10.b
		ai_chance = { factor = 10 }
		
	}
}

###########1500 машинок с Франции#############

country_event = {
	id = bulgaria.11
	title = bulgaria.11.t
	desc = bulgaria.11.d
	picture = GFX_report_event_second_vienna_award_pact
	
	is_triggered_only = yes
	
	option = {
		name = bulgaria.11.a
		ai_chance = { factor = 90 }
		FRA = { add_equipment_to_stockpile = { type = infantry_equipment_1 amount = -1500 producer = ITA } }
		BUL = { add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 1500 producer = GER } }
		add_political_power = 25
		BUL = { add_political_power = -25 }
	}

	option = {
		name = bulgaria.11.b
		ai_chance = { factor = 10 }
		
	}
}

###########100 арт с Франции#############

country_event = {
	id = bulgaria.12
	title = bulgaria.12.t
	desc = bulgaria.12.d
	picture = GFX_report_event_second_vienna_award_pact
	
	is_triggered_only = yes
	
	option = {
		name = bulgaria.12.a
		ai_chance = { factor = 90 }
		FRA = { add_equipment_to_stockpile = { type = artillery_equipment_1 amount = -100 producer = ITA } }
		BUL = { add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 100 producer = GER } }
		add_political_power = 25
		BUL = { add_political_power = -25 }
	}

	option = {
		name = bulgaria.12.b
		ai_chance = { factor = 10 }
		
	}
}

###########удачные танковые учения#############

country_event = {
	id = bulgaria.13
	title = bulgaria.13.t
	desc = bulgaria.13.d
	picture = GFX_report_event_bulgarian_tanks
	
	is_triggered_only = yes
	
	option = {
		name = bulgaria.13.a
		ai_chance = { factor = 90 }
			army_experience = 25
			add_tech_bonus = {
				name = infantry_weapons_bonus
				bonus = 0.5
				uses = 1
				category = armor
			}
	}
}

###########неудачные танковые учения#############

country_event = {
	id = bulgaria.14
	title = bulgaria.14.t
	desc = bulgaria.14.d
	picture = GFX_report_event_bulgarian_tanks
	
	is_triggered_only = yes
	
	option = {
		name = bulgaria.14.a
		ai_chance = { factor = 90 }
			army_experience = 5
	}
}

################балканский союз##########################

country_event = {
	id = bulgaria.15
	title = bulgaria.15.t
	desc = bulgaria.15.d
	picture = GFX_report_event_second_vienna_award_pact
	
	is_triggered_only = yes
	
	option = {
		name = bulgaria.15.a
		ai_chance = { factor = 90 }
		BUL = { add_to_faction = ROOT }
		hidden_effect = {
		BUL = {
			country_event = bulgaria.16 hours = 6
		}
	}
		add_ai_strategy = {
			type = alliance
			id = "BUL"
			value = 200
		}
	}

	option = {
		name = bulgaria.15.b
		ai_chance = { factor = 10 }
		hidden_effect = {
			BUL = { country_event = bulgaria.17 }
		}
	}
}

# [Country] Accepts
country_event = {
	id = bulgaria.16
	title = bulgaria.16.t
	desc = bulgaria.16.d
	picture = GFX_report_event_second_vienna_award_pact
	
	is_triggered_only = yes
	
	option = {
		name = bulgaria.16.a
	}
}

# [Country] Refuses
country_event = {
	id = bulgaria.17
	title = bulgaria.17.t
	desc = bulgaria.17.d
	picture = GFX_report_event_second_vienna_award_pact
	
	is_triggered_only = yes
	
	option = {
		name = bulgaria.17.a
	}
}

################смерть Бориса III##########################

country_event = {
	id = bulgaria.18
	title = bulgaria.18.t
	desc = bulgaria.18.d
	picture = GFX_report_event_tsar_boris_died
	fire_only_once = yes
	
	trigger = {
		tag = BUL
		date > 1943.8.1
		date < 1943.8.31
		OR = {
			has_government = monarchy
			OR = {
				has_idea = BUL_tsar_boris
				has_idea = BUL_tsar_boris2
			}
		}
	}

	option = {
		name = bulgaria.18.a
		ai_chance = {
			factor = 100
		}
		if = { limit = { has_idea = BUL_tsar_boris2 }
			remove_ideas = BUL_tsar_boris
		}
		if = { limit = { has_idea = BUL_tsar_boris2 }
			remove_ideas = BUL_tsar_boris2
		}
		create_country_leader = {
			name = "Kiril"
			desc = "POLITICS_KITIL_DESC"
			picture = "Portrait_Bulgaria_Boris_III.dds"
			expire = "1965.1.1"
			ideology = monarchy_ideology
			traits = {
				
			}
		}
	}
}

################создание ОФ##########################

country_event = {
	id = bulgaria.19
	title = bulgaria.19.t
	desc = bulgaria.19.d
	picture = GFX_report_event_make_fatherland_front
	fire_only_once = yes
	
	trigger = {
		tag = BUL
		NOT = { has_government = communism }
		any_country = {
			has_war_with = BUL
			NOT = { has_government = monarchy }
			NOT = { has_government = fascism }
			num_of_factories > 19
			exists = yes
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = bulgaria.19.a
		ai_chance = {
			factor = 50
		}
		add_ideas = BUL_fatherland_front_idea
		add_ideas = BUL_radiostation_idea
		hidden_effect = {
			country_event = { id = bulgaria.22 }
		}
	}
}

################холокост##########################

country_event = {
	id = bulgaria.20
	title = bulgaria.20.t
	desc = bulgaria.20.d
	picture = GFX_report_event_second_vienna_award_pact
	
	is_triggered_only = yes
	
	option = {
		name = bulgaria.20.a
		ai_chance = { factor = 10 }
		48 = { add_manpower = -20000 }
		184 = { add_manpower = -3000 }
		782 = { add_manpower = -3000 }	
		825 = { add_manpower = -2000 }
		106 = { add_manpower = -4000 }
		hidden_effect = {
			random_list = { 
			70 = { country_event = { id = bulgaria.21 hours = 6 } }
			30 = { } }
				}
			}
		}
	}

	option = {
		name = bulgaria.20.b
		ai_chance = { factor = 80 }
		184 = { add_manpower = -3000 }
		782 = { add_manpower = -3000 }	
		825 = { add_manpower = -2000 }
		106 = { add_manpower = -4000 }
		add_political_power = -50
	}
	
	option = {
		name = bulgaria.20.c
		ai_chance = { factor = 10 }
		add_political_power = -100
	}
}

# [Country] Accepts
country_event = {
	id = bulgaria.21
	title = bulgaria.21.t
	desc = bulgaria.21.d
	picture = GFX_report_event_second_vienna_award_pact
	
	is_triggered_only = yes
	
	option = {
		name = bulgaria.21.a
		ai_chance = { factor = 90 }
			add_stability = -0.05
			set_country_flag = BUL_peshev_removed
	}
	
	option = {
		name = bulgaria.21.b
		ai_chance = { factor = 10 }
			add_political_power = -100
			set_country_flag = BUL_peshev_removed
			48 = { add_manpower = 20000 }
	}
}

###########Начало забастовок#############

country_event = {
    id = bulgaria.22

    is_triggered_only = yes

    hidden = yes

    immediate = {
        random_list = {
			33 = { country_event = { id = bulgaria.23 days = 30 random = 30 } } #raids fabrick
			33 = { country_event = { id = bulgaria.24 days = 30 random = 30 } } #raids zavod
			33 = { country_event = { id = bulgaria.25 days = 30 random = 30 } } #raids infrastructure
            
        }
    }
}

###########Поджог фабрики##########

country_event = {
	id = bulgaria.23
	title = bulgaria.23.t
	desc = bulgaria.23.d
	picture = GFX_report_event_generic_factory
	
	is_triggered_only = yes
	
	trigger = {
		has_idea = BUL_fatherland_front_idea
		NOT = { has_government = communism }
	}
	immediate = {
		set_country_flag = bulgaria.23_fired
	}
	
	option = {
		name = bulgaria.23.a
		ai_chance = { factor = 80 }
		
		random_owned_state = {
					limit = {
						industrial_complex > 0
					}
					damage_building = {
						type = industrial_complex
						damage = 0.6
					}
				}
		
		hidden_effect = {
			country_event = { id = bulgaria.22 }
		}
		
	}
}

###########Поджог завода##########

country_event = {
	id = bulgaria.24
	title = bulgaria.24.t
	desc = bulgaria.24.d
	picture = GFX_report_event_generic_factory
	
	is_triggered_only = yes
	
	trigger = {
		has_idea = BUL_fatherland_front_idea
		NOT = { has_government = communism }
	}
	immediate = {
		set_country_flag = bulgaria.24_fired
	}
	
	option = {
		name = bulgaria.24.a
		ai_chance = { factor = 80 }
		
		random_owned_state = {
					limit = {
						arms_factory > 0
					}
					damage_building = {
						type = arms_factory
						damage = 0.6
					}
				}
		
		hidden_effect = {
			country_event = { id = bulgaria.22 }
		}
		
	}
}

###########Поджог инфраструктуры##########

country_event = {
	id = bulgaria.25
	title = bulgaria.25.t
	desc = bulgaria.25.d
	picture = GFX_report_event_blow_up_iron_road
	
	is_triggered_only = yes
	
	trigger = {
		has_idea = BUL_fatherland_front_idea
		NOT = { has_government = communism }
	}
	immediate = {
		set_country_flag = bulgaria.25_fired
	}
	
	option = {
		name = bulgaria.25.a
		ai_chance = { factor = 80 }
		
		random_owned_state = {
					limit = {
						infrastructure > 0
					}
					damage_building = {
						type = infrastructure
						damage = 0.6
					}
				}
		
		hidden_effect = {
			country_event = { id = bulgaria.22 }
		}
		
	}
}

################сепаратный мир##########################

country_event = {
	id = bulgaria.26
	title = bulgaria.26.t
	desc = bulgaria.26.d
	picture = GFX_report_event_second_vienna_award_pact
	
	is_triggered_only = yes
	
	option = {
		name = bulgaria.26.a
		ai_chance = { factor = 90 }
		white_peace = BUL
	}

	option = {
		name = bulgaria.26.b
		ai_chance = { factor = 10 }
		
	}
}

################ультиматум Македонии##########################

country_event = {
	id = bulgaria.27
	title = bulgaria.27.t
	desc = bulgaria.27.d
	picture = GFX_report_event_second_vienna_award_pact
	
	is_triggered_only = yes
	
	option = {
		name = bulgaria.27.a
		ai_chance = { factor = 50 }
			BUL = { transfer_state = 825 }
			BUL = { transfer_state = 106 }
			BUL = { transfer_state = 812 }
	}

	option = {
		name = bulgaria.27.b
		ai_chance = { factor = 30 }
		BUL = {
			country_event = bulgaria.28 hours = 6
		}
	}
	
	option = {
		name = bulgaria.27.c
		ai_chance = { factor = 20 }
			BUL = { create_wargoal = {
			type = annex_everything
			target = MAC
				}
			}
	}
}

# [Country] Accepts
country_event = {
	id = bulgaria.28
	title = bulgaria.28.t
	desc = bulgaria.28.d
	picture = GFX_report_event_second_vienna_award_pact
	
	is_triggered_only = yes
	
	option = {
		name = bulgaria.28.a
		ai_chance = { factor = 50 }
			puppet = MAC
	}
	
	option = {
		name = bulgaria.28.b
		ai_chance = { factor = 50 }
			BUL = { create_wargoal = {
			type = annex_everything
			target = MAC
				}
			}
	}
}
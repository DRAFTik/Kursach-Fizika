###########################
# Ветка Франции
###########################

add_namespace = NWfrance

#Выбор объекта сотрудничества
country_event = {
	id = NWfrance.1
	title = NWfrance.1.t
	desc = NWfrance.1.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.1" }
	
	option = {
		name = NWfrance.1.a
		ai_chance = {
			factor = 50
		}
		add_popularity = {
			ideology = neutrality
			popularity = 0.05
		}
		add_stability = 0.05
		set_country_flag = peten_support_flag
	}
	option = {
		name = NWfrance.1.b
		ai_chance = {
			factor = 50
		}
		add_popularity = {
			ideology = fascism
			popularity = 0.03
		}
		add_stability = 0.07
		set_country_flag = block_leon_blum_flag
	}
}

#Покушение на Леона Блюма
country_event = {
	id = NWfrance.2
	title = NWfrance.2.t
	desc = NWfrance.2.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes
	
	trigger = {
		tag = FRA
		date > 1936.02.11
		NOT = { has_country_flag = block_leon_blum_flag }
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.2" }
	
	option = {
		name = NWfrance.2.a
		add_popularity = {
			ideology = fascism
			popularity = -0.01
		}
		add_stability = -0.03
	}
}

#Убийство Леона Блюма
country_event = {
	id = NWfrance.3
	title = NWfrance.3.t
	desc = NWfrance.3.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes
	
	trigger = {
		tag = FRA
		date > 1936.02.11
		has_country_flag = block_leon_blum_flag
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.3" }
	immediate = { set_country_flag = kill_leon_blum_flag }
	
	option = {
		name = NWfrance.3.a
		add_popularity = {
			ideology = democratic
			popularity = -0.1
		}
		add_stability = -0.1
		hidden_effect = {
			SOV = { country_event = { id = NWfrance.4 days = 3 } }
		}
	}
}

#Фашиствующая буржуазия накаляет обстановку во Франции // SOV
country_event = {
	id = NWfrance.4
	title = NWfrance.4.t
	desc = NWfrance.4.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.4" }
	
	option = {
		name = NWfrance.4.a
		ai_chance = {
			factor = 50
		}
		FROM = { country_event = { id = NWfrance.5 } }
	}
	
	option = {
		name = NWfrance.4.b
		ai_chance = {
			factor = 50
		}
	}
}

#Коммунисты поднимают восстание
country_event = {
	id = NWfrance.5
	title = NWfrance.5.t
	desc = NWfrance.5.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.5" }
	immediate = { set_country_flag = FRA_commi_revolt_flag }
	
	option = {
		name = NWfrance.5.a
		add_stability = -0.2
		remove_ideas = FRA_disjointed_government
		hidden_effect = {
			FRC = { transfer_state = 1035 }
			start_civil_war = {
				ideology = communism
				size = 0.5
				capital = 20
				states = { 22 31 19 18 26 20 }
			}
			random_other_country = {
				limit = {
					original_tag = FRA
					has_government = communism
				}
				set_equipment_fraction = 0.5
				FRC = {
					annex_country = {
						target = PREV
						transfer_troops = yes
					}
				}
			}
			FRC = {
				inherit_technology = FRA
				set_stability = 0.5
				set_war_support = 0.5
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 10000
				}
			}
			every_state = {
				limit = { is_core_of = FRA }
				add_core_of = FRC
			}
			every_state = {
				limit = { is_owned_by = FRA }
				add_claim_by = FRC
			}
			if = {
				limit = { FRA = { has_country_flag = kill_leon_blum_flag } }
				FRA = {
					country_event = { id = NWfrance.6 days = 1 }
					clr_country_flag = kill_leon_blum_flag
				}
			}
		}
		FRC = {
			declare_war_on = {
				target = FRA
				type = civil_war
			}
		}
	}
}

#Французское действие захватывает власть в стране
country_event = {
	id = NWfrance.6
	title = NWfrance.6.t
	desc = NWfrance.6.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.6" }
	
	option = {
		name = NWfrance.6.a
		add_popularity = {
			ideology = fascism
			popularity = 0.1
		}
		set_politics = {
			ruling_party = fascism
			elections_allowed = no
		}
		add_stability = 0.05
		add_opinion_modifier = { target = GER modifier = FRA_support_maurras }
		GER = { add_opinion_modifier = { target = ROOT modifier = FRA_support_maurras } }
		complete_national_focus = FRA_support_maurras
		custom_effect_tooltip = nw_french_right_focus_tt
		hidden_effect = {
			load_focus_tree = nw_french_right_focus
		}
	}
}

#Выборы в парламент
country_event = {
	id = NWfrance.7
	title = NWfrance.7.t
	desc = NWfrance.7.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes

	trigger = {
		tag = FRA
		date > 1936.05.01
		NOT = { has_completed_focus = FRA_support_maurras }
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.7" }
	immediate = { complete_national_focus = FRA_parliamentary_elections }
	
	option = {
		name = NWfrance.7.a
		trigger = {
			has_completed_focus = FRA_yield_radical_socialists
		}
		complete_national_focus = FRA_victory_popular_front
		add_ideas = FRA_cagulars
		custom_effect_tooltip = nw_french_left_focus_tt
		hidden_effect = {
			load_focus_tree = nw_french_left_focus
		}
	}
	
	option = {
		name = NWfrance.7.b
		trigger = {
			has_country_flag = peten_support_flag
		}
		complete_national_focus = FRA_third_way
		custom_effect_tooltip = nw_french_right_focus_tt
		hidden_effect = {
			load_focus_tree = nw_french_right_focus
		}
	}
}

#Вооружённое восстание кагуляров в Париже
country_event = {
	id = NWfrance.8
	title = NWfrance.8.t
	desc = NWfrance.8.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes

	trigger = {
		tag = FRA
		date > 1937.10.12
		NOT = { has_completed_focus = FRA_reform_paris_police }
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.8" }
	
	option = {
		name = NWfrance.8.a
		add_stability = -0.1
		add_manpower = -50000
		add_popularity = {
			ideology = democratic
			popularity = -0.1
		}
	}
}

#Неудавшееся восстание кагуляров
country_event = {
	id = NWfrance.9
	title = NWfrance.9.t
	desc = NWfrance.9.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes

	trigger = {
		tag = FRA
		date > 1937.10.12
		has_completed_focus = FRA_reform_paris_police
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.9" }
	
	option = {
		name = NWfrance.9.a
		remove_ideas = FRA_cagulars
	}
}

#Становление Камиля Шотана премьер-министром
country_event = {
	id = NWfrance.10
	title = NWfrance.10.t
	desc = NWfrance.10.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes

	trigger = {
		tag = FRA
		date > 1937.06.20
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.10" }
	
	option = {
		name = NWfrance.10.a
		add_political_power = 20
		create_country_leader = {
			name = "Camille Chautemps"
			desc = "POLITICS_CAMILLE_CHAUTEMPS_DESC"
			picture = "gfx/leaders/FRA/Portrait_Camille_Chautemps.dds"
			expire = "1965.1.1"
			ideology = conservatism
			traits = {
			}
		}
	}
}

#Возвращение Леона Блюма на пост премьер-министра
country_event = {
	id = NWfrance.11
	title = NWfrance.11.t
	desc = NWfrance.11.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes

	trigger = {
		tag = FRA
		date > 1938.03.10
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.11" }
	
	option = {
		name = NWfrance.11.a
		create_country_leader = {
			name = "Léon Blum"
			desc = "POLITICS_LEON_BLUM_DESC"
			picture = "gfx/leaders/FRA/Portrait_Leon_Blum.dds"
			expire = "1965.1.1"
			ideology = socialism
			traits = {
			}
		}
	}
}

#Провал Народного фронта
country_event = {
	id = NWfrance.12
	title = NWfrance.12.t
	desc = NWfrance.12.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes

	trigger = {
		tag = FRA
		date > 1938.04.07
		has_idea = FRA_social_crisis
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.12" }
	
	option = {
		name = NWfrance.12.a
		add_stability = -0.05
		create_country_leader = {
			name = "Édouard Daladier"
			desc = "POLITICS_EDOUARD_DALADIER_DESC"
			picture = "gfx/leaders/FRA/Portrait_France_Edouard_Daladier.dds"
			expire = "1965.1.1"
			ideology = conservatism
			traits = {
			}
		}
		set_country_flag = FRA_strengthen_left_direction_block_flag
	}
}

#Отставка Эдуарда Даладьё
country_event = {
	id = NWfrance.13
	title = NWfrance.13.t
	desc = NWfrance.13.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes

	trigger = {
		tag = FRA
		date > 1938.04.07
		has_war_with = GER
		has_global_flag = FIN_has_defeat_from_ussr_flag
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.13" }
	
	option = {
		name = NWfrance.13.a
		set_party_name = { ideology = democratic name = FRA_democratic_ally long_name = FRA_democratic_ally }
		add_stability = -0.05
		create_country_leader = {
			name = "Paul Reynaud"
			desc = "POLITICS_PAUL_REYNAUD_DESC"
			picture = "gfx/leaders/FRA/Portrait_Paul_Reynaud.dds"
			expire = "1965.1.1"
			ideology = conservatism
			traits = {
			}
		}
	}
}

#Франция предлагает подписать пакт о ненападении
country_event = {
	id = NWfrance.14
	title = NWfrance.14.t
	desc = NWfrance.14.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes

	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.14" }
	
	option = {
		name = NWfrance.14.a
		ai_chance = {
			factor = 20
		}
		diplomatic_relation = {
			country = FROM
			relation = non_aggression_pact
			active = yes
		}
	}
	
	option = {
		name = NWfrance.14.b
		ai_chance = {
			factor = 40
		}
		FROM = { country_event = { id = NWfrance.15 days = 1 } }
	}
	
	option = {
		name = NWfrance.14.c
		ai_chance = {
			factor = 40
		}
		FROM = { country_event = { id = NWfrance.17 days = 1 } }
	}
}

#Германия требует Эльзас и Лотарингию
country_event = {
	id = NWfrance.15
	title = NWfrance.15.t
	desc = NWfrance.15.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes

	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.15" }
	
	option = {
		name = NWfrance.15.a
		ai_chance = {
			factor = 30
		}
		FROM = { transfer_state = 28 }
		28 = {
			add_core_of = FROM
			remove_core_of = ROOT
		}
		diplomatic_relation = {
			country = FROM
			relation = non_aggression_pact
			active = yes
		}
		hidden_effect = {
			if = {
				limit = { ROOT = { NOT = { has_government = communism } } }
				ROOT = { country_event = { id = NWfrance.5 days = 3 } }
			}
		}
	}
	
	option = {
		name = NWfrance.15.b
		ai_chance = {
			factor = 70
		}
		FROM = { country_event = { id = NWfrance.16 days = 1 } }
	}
}

#Французский отказ
country_event = {
	id = NWfrance.16
	title = NWfrance.16.t
	desc = NWfrance.16.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes

	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.16" }
	
	option = {
		name = NWfrance.16.a
	}
}

#Германский отказ
country_event = {
	id = NWfrance.17
	title = NWfrance.17.t
	desc = NWfrance.17.desc
	picture = GFX_report_event_generic_rally_3
	is_triggered_only = yes

	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.17" }
	
	option = {
		name = NWfrance.17.a
	}
}

#Смерть Жана Орлеанского
country_event = {
	id = NWfrance.18
	title = NWfrance.18.t
	desc = NWfrance.18.desc
	picture = GFX_report_event_generic_rally_3
	fire_only_once = yes
	
	trigger = {
		tag = FRA
		date > 1940.08.22
		has_idea = FRA_jean_orleans
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.18" }
	
	option = {
		name = NWfrance.18.a
		add_stability = -0.05
		swap_ideas = {
			remove_idea = FRA_jean_orleans
			add_idea = FRA_henry_orleans
		}
	}
}

#Франция предлагает заключить союз
country_event = {
	id = NWfrance.19
	title = NWfrance.19.t
	desc = NWfrance.19.desc
	picture = GFX_report_event_german_parade_paris
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.19" }
	
	option = {
		name = NWfrance.19.a
		FRA = {
			if = {
				limit = { is_in_faction = no }
				create_faction = "FRA_franko_italian_faction"
			}
		}
		FRA = {	add_to_faction = ITA }
		ITA = {
			add_ai_strategy = {
				type = alliance
				id = "FRA"
				value = 200
			}
		}
		FRA = {
			add_ai_strategy = {
				type = alliance
				id = "ITA"
				value = 200
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.181 }
		}
	}
	option = {
		name = NWfrance.19.b
		ai_chance = { factor = 0 }
		FRA = {
			add_opinion_modifier = { target = ITA modifier = ITA_FRA_woo_italy_reject }
		}	
		hidden_effect = {
			news_event = { hours = 6 id = news.183 }
		}
	}
}

#Франция предлагает разделить Египет
country_event = {
	id = NWfrance.20
	title = NWfrance.20.t
	desc = NWfrance.20.desc
	picture = GFX_report_event_military_planning
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.20" }
	
	option = {
		name = NWfrance.20.a
		ai_chance = {
			factor = 90
		}
		every_state = {
			limit = {
				is_core_of = EGY
				NOT = {
					state = 446
					state = 453
				}
			}
			add_claim_by = ITA
		}
		every_state = {
			limit = {
				OR = {
					state = 446
					state = 453
				}
			}
			add_claim_by = FRA
		}
	}
	
	option = {
		name = NWfrance.20.b
		ai_chance = {
			factor = 10
		}
		every_state = {
			limit = { is_core_of = EGY }
			add_claim_by = ROOT
		}
	}
}

#Выборы в парламент // пульсар старт
country_event = {
	id = NWfrance.21
	title = NWfrance.21.t
	desc = NWfrance.21.desc
	picture = GFX_report_event_poland_rejects
	fire_only_once = yes
	hidden = yes
	
	trigger = {
		tag = FRA
		date > 1940.05.01
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.21" }
	
	option = {
		name = NWfrance.21.a
		if = {
			limit = {
				has_war = no
				is_puppet = no
				OR = {
					has_government = neutrality
					has_government = democratic
				}
			}
			FRA = { country_event = { id = NWfrance.23 } }
		}
	}
}

#Выборы в парламент // пульсар
country_event = {
	id = NWfrance.22
	title = NWfrance.22.t
	desc = NWfrance.22.desc
	picture = GFX_report_event_poland_rejects
	is_triggered_only = yes
	hidden = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.22" }
	
	option = {
		name = NWfrance.22.a
		if = {
			limit = {
				has_war = no
				is_puppet = no
				OR = {
					has_government = neutrality
					has_government = democratic
				}
			}
			FRA = { country_event = { id = NWfrance.23 } }
		}
	}
}

#Выборы в парламент
country_event = {
	id = NWfrance.23
	title = NWfrance.23.t
	desc = NWfrance.23.desc
	picture = GFX_report_event_poland_rejects
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.23" }
	immediate = {
		set_variable = { fra_comm = party_popularity@communism }
		set_variable = { fra_neut = party_popularity@neutrality }
		set_variable = { fra_demo = party_popularity@democratic }
	}
	
	option = { #commi
		name = NWfrance.23.a
		trigger = {
			NOT = { has_completed_focus = FRA_ban_communist_party }
			AND = {
				check_variable = { var = fra_comm value = fra_neut compare = greater_than_or_equals }
				check_variable = { var = fra_comm value = fra_demo compare = greater_than_or_equals }
			}
		}
		
		set_politics = {
			ruling_party = communism
			elections_allowed = no
		}
		hidden_effect = {
			clear_variable = fra_comm
			clear_variable = fra_neut
			clear_variable = fra_demo
			if = {
				limit = { date < 1948.05.01 }
				FRA = { country_event = { id = NWfrance.22 days = 1460 } }
			}
		}
	}
	
	option = { #neut
		name = NWfrance.23.b
		trigger = {
			AND = {
				check_variable = { var = fra_neut value = fra_comm compare = greater_than_or_equals }
				check_variable = { var = fra_neut value = fra_demo compare = greater_than_or_equals }
			}
		}
		
		if = {
			limit = { NOT = { has_government = neutrality } }
			set_politics = {
				ruling_party = neutrality
				elections_allowed = no
			}
		}
		else = {
			add_political_power = 50
			add_popularity = {
				ideology = neutrality
				popularity = 0.05
			}
		}
		
		hidden_effect = {
			clear_variable = fra_comm
			clear_variable = fra_neut
			clear_variable = fra_demo
			if = {
				limit = { date < 1948.05.01 }
				FRA = { country_event = { id = NWfrance.22 days = 1460 } }
			}
		}
	}
	
	option = { #demo
		name = NWfrance.23.c
		trigger = {
			AND = {
				check_variable = { var = fra_demo value = fra_neut compare = greater_than_or_equals }
				check_variable = { var = fra_demo value = fra_comm compare = greater_than_or_equals }
			}
		}
		
		if = {
			limit = { NOT = { has_government = democratic } }
			set_politics = {
				ruling_party = democratic
				elections_allowed = no
			}
		}
		else = {
			add_political_power = 50
			add_popularity = {
				ideology = democratic
				popularity = 0.05
			}
		}
		hidden_effect = {
			clear_variable = fra_comm
			clear_variable = fra_neut
			clear_variable = fra_demo
			if = {
				limit = { date < 1948.05.01 }
				FRA = { country_event = { id = NWfrance.22 days = 1460 } }
			}
		}
	}
}



########
## Коллаборационистская FRA
########

#Передача власти Петену
country_event = {
	id = NWfrance.101
	title = NWfrance.101.t
	desc = NWfrance.101.desc
	picture = GFX_report_event_FDR_speech
	fire_only_once = yes
	
	trigger = {
		tag = FRA
		OR = {
			has_government = democratic
			has_government = neutrality
		}
		NOT = { has_war_with = FRC }
		OR = {
			AND = {
				has_war_with = GER
				NOT = { has_war_with = ITA }
			}
			AND = {
				has_war_with = ITA
				NOT = { has_war_with = GER }
			}
			AND = {
				has_war_with = GER
				has_war_with = ITA
				ITA = { is_in_faction_with = GER }
			}
		}
		NOT = {
			any_state = {
				is_controlled_by = FRA
				OR = {
					is_owned_by = GER
					is_owned_by = ITA
				}
			}
		}
		16 = {
			OR = {
				is_controlled_by = GER
				is_controlled_by = ITA
			}
		}
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.101" }
	
	option = {
		name = NWfrance.101.a
		ai_chance = {
			factor = 90
		}
		
		if = {
			limit = { neutrality < 0.15 }
			add_popularity = {
				ideology = neutrality
				popularity = 0.15
			}
			else = {
				add_popularity = {
					ideology = neutrality
					popularity = 0.1
				}
			}
		}
		set_politics = {
			ruling_party = neutrality
			elections_allowed = no
		}
		create_country_leader = {
			name = "Philippe Pétain"
			desc = "POLITICS_PHILIPPE_PETAIN_DESC"
			picture = "gfx/leaders/FRA/Portrait_France_Philippe_Petain.dds"
			expire = "1965.1.1"
			ideology = despotism
			traits = {
			}
		}
		
		load_focus_tree = nw_collaborationist_french_focus
		custom_effect_tooltip = unlock_decision_peace_tt
		
		hidden_effect = {
			set_country_flag = FRA_peace_flag
			every_state = {
				limit = {
					is_owned_by = FRA
					is_controlled_by = GER
				}
				add_to_variable = { GER_FRA_occupy_state = 1 }
			}
			every_state = {
				limit = {
					is_owned_by = FRA
					is_controlled_by = ITA
				}
				add_to_variable = { ITA_FRA_occupy_state = 1 }
			}
			if = {
				limit = { check_variable = { var = GER_FRA_occupy_state value = ITA_FRA_occupy_state compare = greater_than_or_equals } }
				GER = { save_event_target_as = france_occupy_leader }
				else = { ITA = { save_event_target_as = france_occupy_leader } }
			}
			clear_variable = GER_FRA_occupy_state
			clear_variable = ITA_FRA_occupy_state
		}
	}
	
	option = {
		name = NWfrance.101.b
		ai_chance = {
			factor = 10
		}
		add_war_support = 0.1
	}
}

#Франция запрашивает мир // решение
country_event = {
	id = NWfrance.102
	title = NWfrance.102.t
	desc = NWfrance.102.desc
	picture = GFX_report_event_finnish_letter
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.102" }
	
	option = {
		name = NWfrance.102.a
		ai_chance = {
			factor = 60
		}
		FROM = { country_event = { id = NWfrance.103 days = 1 } }
	}
	option = {
		name = NWfrance.102.b
		ai_chance = {
			factor = 30
		}
		hidden_effect = {
			if = {
				limit = { FROM = { is_in_faction_with = ENG } }
				ENG = { country_event = { id = NWfrance.105 days = 11 } }
			}
		}
		FROM = { leave_faction = yes }
		every_country = {
			limit = { has_war_with = FROM }
			white_peace = FROM
		}
		#Проверить популярность
		set_autonomy = {
			target = FROM
			autonomy_state = autonomy_satellite
		}
		add_ideas = {
			FRA_french_prisoners_of_war
			FRA_french_payments
			FRA_french_food
		}
		FROM = {
			add_ideas = {
				FRA_prisoners_war_in_foreign_land
				FRA_payments_to_winners
				FRA_hunger_in_big_cities
			}
		}
	}
	option = {
		name = NWfrance.102.c
		ai_chance = {
			factor = 10
		}
	}
}

#FROM.CountryName выдвигает условия перемирия
country_event = {
	id = NWfrance.103
	title = NWfrance.103.t
	desc = NWfrance.103.desc
	picture = GFX_report_event_poland_rejects
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.103" }
	
	option = {
		name = NWfrance.103.a
		ai_chance = {
			factor = 75
		}
		hidden_effect = {
			if = {
				limit = { is_in_faction_with = ENG }
				ENG = { country_event = { id = NWfrance.105 days = 11 } }
			}
		}
		leave_faction = yes
		every_country = {
			limit = { has_war_with = ROOT }
			white_peace = ROOT
		}
		#Проверить популярность
		FROM = {
			set_autonomy = {
				target = ROOT
				autonomy_state = autonomy_satellite
			}
		}
		if = {
			limit = { FROM = { tag = ITA } }
			every_state = {
				limit = {
					OR = {
						state = 1
						state = 1032
						state = 21
						state = 32
						state = 735
						state = 1034
						state = 1033
						state = 1035
						state = 22
						state = 31
						state = 1043
						state = 20
						state = 26
						state = 25
						state = 19
						state = 1050
					}
				}
				ITA = { transfer_state = PREV }
			}
			if = {
				limit = { GER = { is_in_faction_with = ITA } }
				every_state = {
					limit = {
						OR = {
							state = 28
							state = 1036
						}
					}
					GER = { transfer_state = PREV }
				}
			}
		}
		if = {
			limit = { FROM = { tag = GER } }
			every_state = {
				limit = {
					OR = {
						state = 19
						state = 23
						state = 30
						state = 1039
						state = 14
						state = 15
						state = 24
						state = 27
						state = 17
						state = 1036
						state = 28
						state = 16
						state = 1016
						state = 29
						state = 1038
						state = 1037
					}
				}
				GER = { transfer_state = PREV }
			}
			if = {
				limit = { ITA = { is_in_faction_with = GER } }
				every_state = {
					limit = {
						OR = {
							state = 1032
							state = 735
							state = 1034
						}
					}
					ITA = { transfer_state = PREV }
				}
			}
		}
		FROM = {
			add_ideas = {
				FRA_french_prisoners_of_war
				FRA_french_payments
				FRA_french_food
			}
		}
		add_ideas = {
			FRA_prisoners_war_in_foreign_land
			FRA_payments_to_winners
			FRA_hunger_in_big_cities
		}
	}
	option = {
		name = NWfrance.103.b
		ai_chance = {
			factor = 25
		}
		FROM = { country_event = { id = NWfrance.104 days = 1 } }
	}
}

#Французский отказ
country_event = {
	id = NWfrance.104
	title = NWfrance.104.t
	desc = NWfrance.104.desc
	picture = GFX_report_event_british_artillery
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.104" }
	
	option = {
		name = NWfrance.104.a
	}
}

#Французский флот
country_event = {
	id = NWfrance.105
	title = NWfrance.105.t
	desc = NWfrance.105.desc
	picture = GFX_report_event_ast_navy
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.105" }
	
	option = {
		name = NWfrance.105.a
		ai_chance = {
			factor = 50
		}
		declare_war_on = {
			target = FRA
			type = annex_everything
		}
		FRA = {
			add_manpower = -297
			destroy_ships = {
				type = destroyer
				count = 1
			}
			destroy_ships = {
				type = battleship
				count = 1
			}
		}
	}
	
	option = {
		name = NWfrance.105.b
		ai_chance = {
			factor = 50
		}
		FRA = { add_opinion_modifier = { target = ROOT modifier = FRA_neutrals } }
		ROOT = { add_opinion_modifier = { target = FRA modifier = FRA_neutrals } }
	}
}


#Оккупация Северной Африки
country_event = {
	id = NWfrance.106
	title = NWfrance.106.t
	desc = NWfrance.106.desc
	picture = GFX_report_event_FDR_speech
	fire_only_once = yes
	
	trigger = {
		OR = {
			tag = GER
			tag = ITA
		}
		FRA = {
			is_subject_of = ROOT
			owns_state = 459
			owns_state = 460
		}
		any_country = {
			has_war_with = ROOT
			controls_state = 459
			controls_state = 460
		}
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.106" }
	
	option = {
		name = NWfrance.106.a
		ai_chance = {
			factor = 50
		}
		FRA = {
			add_autonomy_ratio = {
				value = 1.0
			}
			add_manpower = -50000
		}
	}
	
	option = {
		name = NWfrance.106.b
		ai_chance = {
			factor = 50
		}
	}
}

#Место базирования правительства
country_event = {
	id = NWfrance.107
	title = NWfrance.107.t
	desc = NWfrance.107.desc
	picture = GFX_report_event_generic_conference
	fire_only_once = yes
	
	trigger = {
		tag = FRA
		is_subject = yes
		has_government = neutrality
		NOT = { controls_state = 16 }
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.107" }
	
	option = {
		name = NWfrance.107.a
		trigger = { owns_state = 26 }
		ai_chance = {
			factor = 25
		}
		add_political_power = -50
		set_capital = 26
		set_cosmetic_tag = FRA_vichy
	}
	
	option = {
		name = NWfrance.107.b
		trigger = { owns_state = 1035 }
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		add_stability = -0.05
		set_capital = 1035
		set_cosmetic_tag = FRA_marsel
	}
	
	option = {
		name = NWfrance.107.c
		trigger = { owns_state = 20 }
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
		set_capital = 20
		set_cosmetic_tag = FRA_lion
	}
	
	option = {
		name = NWfrance.107.d
		trigger = { owns_state = 1050 }
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
		set_capital = 1050
		set_cosmetic_tag = FRA_tuluza
	}
}


#Франция запрашивает о поддержке в восстании против Германии
country_event = {
	id = NWfrance.108
	title = NWfrance.108.t
	desc = NWfrance.108.desc
	picture = GFX_report_event_worried_french
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.108" }
	
	option = {
		name = NWfrance.108.a
		ai_chance = {
			factor = 90
		}
		FROM = { country_event = { id = NWfrance.109 days = 1 } }
	}
	option = {
		name = NWfrance.108.b
		ai_chance = {
			factor = 10
		}
		FROM = { country_event = { id = NWfrance.110 days = 1 } }
	}
}

#Британия согласилась помочь
country_event = {
	id = NWfrance.109
	title = NWfrance.109.t
	desc = NWfrance.109.desc
	picture = GFX_report_event_worried_french
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.109" }
	
	option = {
		name = NWfrance.109.a
		set_country_flag = ENG_FRA_war_again_GER_flag
	}
}

#Британия отказалась помочь
country_event = {
	id = NWfrance.110
	title = NWfrance.110.t
	desc = NWfrance.110.desc
	picture = GFX_report_event_military_planning
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.110" }
	
	option = {
		name = NWfrance.110.a
	}
}

#Франция затевает недоброе
country_event = {
	id = NWfrance.111
	title = NWfrance.111.t
	desc = NWfrance.111.desc
	picture = GFX_report_event_worried_french
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.111" }
	
	option = {
		name = NWfrance.111.a
		ai_chance = {
			factor = 50
		}
		declare_war_on = {
			target = FROM
			type = annex_everything
		}
	}
	
	option = {
		name = NWfrance.111.b
		ai_chance = {
			factor = 50
		}
	}
}

#Франция хочет стать полноправным членом Оси
country_event = {
	id = NWfrance.112
	title = NWfrance.112.t
	desc = NWfrance.112.desc
	picture = GFX_report_event_hitler_handshake
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.112" }
	
	option = {
		name = NWfrance.112.a
		ai_chance = {
			factor = 75
		}
		set_autonomy = {
			target = FROM
			autonomy_state = autonomy_free
		}
		GER = { add_to_faction = FROM }
		if = {
			limit = { ROOT = { tag = GER } }
			every_state = {
				limit = {
					is_controlled_by = GER
					is_core_of = FROM
					NOT = {
						state = 17
						state = 1036
						state = 28
					}
				}
				FROM = { transfer_state = PREV }
			}
		}
		if = {
			limit = { ROOT = { tag = ITA } }
			every_state = {
				limit = {
					OR = {
						state = 19
						state = 31
						state = 1050
						state = 22
						state = 20
						state = 26
						state = 25
					}
				}
				FROM = { transfer_state = PREV }
			}
		}
	}
	
	option = {
		name = NWfrance.112.b
		ai_chance = {
			factor = 25
		}
		FROM = { country_event = { id = NWfrance.113 days = 1 } }
	}
}

#Ось воткнула нам нож в спину
country_event = {
	id = NWfrance.113
	title = NWfrance.113.t
	desc = NWfrance.113.desc
	picture = GFX_report_event_hol_cabinet_de_geer
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.113" }
	
	option = {
		name = NWfrance.113.a
		ai_chance = {
			factor = 90
		}
		add_war_support = 0.1
		declare_war_on = {
			target = FROM
			type = annex_everything
		}
	}
	
	option = {
		name = NWfrance.113.b
		ai_chance = {
			factor = 10
		}
		add_popularity = {
			ideology = fascism
			popularity = -0.1
		}
	}
}






#test
country_event = {
	id = NWfrance.999
	title = "TEST"
	desc = "TEST EVENT"
	picture = GFX_report_event_poland_rejects
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName]: event NWfrance.999" }
	
	option = {
		name = 1
		complete_national_focus = FRA_victory_popular_front
		custom_effect_tooltip = nw_french_left_focus_tt
		hidden_effect = {
			load_focus_tree = nw_french_left_focus
		}
	}
	
	option = {
		name = 2
		complete_national_focus = FRA_third_way
		custom_effect_tooltip = nw_french_right_focus_tt
		hidden_effect = {
			load_focus_tree = nw_french_right_focus
		}
	}
	
	option = {
		name = 3
		complete_national_focus = FRA_support_maurras
		custom_effect_tooltip = nw_french_right_focus_tt
		hidden_effect = {
			load_focus_tree = nw_french_right_focus
		}
	}
	
	option = {
		name = 4
		every_country = { add_political_power = 2000 }
	}
}


